{"ast":null,"code":"var _jsxFileName = \"/Users/faybennett/outlierTasks/game-app/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\n\n// Types\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Constants\nconst SAVE_KEY = \"apocalypse-idle-save\";\nconst AUTO_SAVE_INTERVAL = 10000;\nconst DISASTER_CHANCE = 0.002;\nconst AI_ATTACK_CHANCE = 0.02;\nconst HOUSE_CAPACITY = 2;\nconst UNHOUSED_SURVIVOR_DEATH_RATE = 0.01;\nconst EXPLORATION_COST = {\n  materials: 20\n};\nconst initialResources = {\n  food: 100,\n  water: 100,\n  materials: 50,\n  survivors: 5\n};\nconst disasters = [{\n  id: \"raiders\",\n  name: \"Raider Attack!\",\n  description: \"Raiders have attacked your base!\",\n  effect: {\n    food: -20,\n    water: -15,\n    materials: -10\n  }\n}, {\n  id: \"drought\",\n  name: \"Drought\",\n  description: \"Water supplies are running low!\",\n  effect: {\n    water: -30\n  }\n}, {\n  id: \"sickness\",\n  name: \"Disease Outbreak\",\n  description: \"A disease has spread through your camp!\",\n  effect: {\n    survivors: -1,\n    food: -10\n  }\n}];\n\n// Icon components\nconst FoodIcon = ({\n  className = \"h-8 w-8\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M18 8h1a4 4 0 0 1 0 8h-1\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"6\",\n    y1: \"1\",\n    x2: \"6\",\n    y2: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"10\",\n    y1: \"1\",\n    x2: \"10\",\n    y2: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"14\",\n    y1: \"1\",\n    x2: \"14\",\n    y2: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 124,\n  columnNumber: 3\n}, this);\n_c = FoodIcon;\nconst WaterIcon = ({\n  className = \"h-8 w-8\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 134,\n  columnNumber: 3\n}, this);\n_c2 = WaterIcon;\nconst MaterialsIcon = ({\n  className = \"h-8 w-8\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 140,\n  columnNumber: 3\n}, this);\n_c3 = MaterialsIcon;\nconst SurvivorsIcon = ({\n  className = \"h-8 w-8\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"9\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M23 21v-2a4 4 0 0 0-3-3.87\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 3.13a4 4 0 0 1 0 7.75\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 146,\n  columnNumber: 3\n}, this);\n_c4 = SurvivorsIcon;\nconst BaseIcon = ({\n  className = \"h-8 w-8\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"9 22 9 12 15 12 15 22\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 155,\n  columnNumber: 3\n}, this);\n_c5 = BaseIcon;\nconst ResourcesIcon = ({\n  className = \"h-8 w-8\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"16\",\n    y1: \"8\",\n    x2: \"2\",\n    y2: \"22\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"17.5\",\n    y1: \"15\",\n    x2: \"9\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 162,\n  columnNumber: 3\n}, this);\n_c6 = ResourcesIcon;\nconst AttackIcon = ({\n  className = \"h-8 w-8\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 19l7-7 3 3-7 7-3-3z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M2 2l7.586 7.586\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"11\",\n    cy: \"11\",\n    r: \"2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 170,\n  columnNumber: 3\n}, this);\n_c7 = AttackIcon;\nconst ExploreIcon = ({\n  className = \"h-8 w-8\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n    points: \"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 179,\n  columnNumber: 3\n}, this);\n_c8 = ExploreIcon;\nconst CancelIcon = ({\n  className = \"h-8 w-8\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"18\",\n    y1: \"6\",\n    x2: \"6\",\n    y2: \"18\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"6\",\n    y1: \"6\",\n    x2: \"18\",\n    y2: \"18\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 186,\n  columnNumber: 3\n}, this);\n_c9 = CancelIcon;\nconst ResourcePanel = ({\n  resources,\n  upgrades,\n  autoScavengeEnabled,\n  purchaseUpgrade,\n  setAutoScavengeEnabled,\n  availableBuildings\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative bg-gray-900 border border-gray-700 rounded-xl p-4 sm:p-8 shadow-2xl h-full flex flex-col overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-br before:from-gray-800 before:via-gray-900 before:to-black before:opacity-50 before:rounded-xl\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"relative z-10 text-2xl sm:text-4xl font-black text-white mb-4 sm:mb-8 text-center drop-shadow-md\",\n      children: \"Resources\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 grid grid-cols-2 gap-4 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 p-4 rounded-lg border border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(FoodIcon, {\n            className: \"w-6 h-6 text-orange-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-bold\",\n            children: \"Food\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold\",\n          children: Math.floor(resources.food)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 p-4 rounded-lg border border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(WaterIcon, {\n            className: \"w-6 h-6 text-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-bold\",\n            children: \"Water\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold\",\n          children: Math.floor(resources.water)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 p-4 rounded-lg border border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(MaterialsIcon, {\n            className: \"w-6 h-6 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-bold\",\n            children: \"Materials\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold\",\n          children: Math.floor(resources.materials)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 p-4 rounded-lg border border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(SurvivorsIcon, {\n            className: \"w-6 h-6 text-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-bold\",\n            children: \"Survivors\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl font-bold\",\n          children: Math.floor(resources.survivors)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-white mb-4\",\n        children: \"Base Upgrades\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: upgrades.map(upgrade => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-800 p-4 rounded-lg border border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-start mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-bold text-white\",\n                children: upgrade.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-400\",\n                children: upgrade.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-400\",\n              children: [\"Level \", upgrade.level, \"/\", upgrade.maxLevel]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-400\",\n              children: [\"Cost:\", \" \", Object.entries(upgrade.cost).map(([resource, amount]) => `${amount} ${resource}`).join(\", \")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => purchaseUpgrade(upgrade),\n              disabled: upgrade.level >= upgrade.maxLevel,\n              className: `px-4 py-2 rounded-lg text-sm font-bold transition-all duration-300 ${upgrade.level >= upgrade.maxLevel ? \"bg-gray-700 text-gray-400 cursor-not-allowed\" : \"bg-blue-600 hover:bg-blue-700 text-white\"}`,\n              children: upgrade.level >= upgrade.maxLevel ? \"Max Level\" : \"Upgrade\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, upgrade.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"flex items-center gap-2 cursor-pointer\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: autoScavengeEnabled,\n          onChange: e => setAutoScavengeEnabled(e.target.checked),\n          className: \"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-300\",\n          children: \"Auto Scavenge\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-white mb-4\",\n        children: \"Buildings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 gap-4\",\n        children: availableBuildings.map(building => /*#__PURE__*/_jsxDEV(\"div\", {\n          draggable: true,\n          onDragStart: e => {\n            e.dataTransfer.setData(\"buildingId\", building.id);\n          },\n          className: \"bg-gray-800 p-4 rounded-lg border border-gray-700 cursor-move hover:bg-gray-700 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [building.imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: building.imageUrl,\n              alt: building.name,\n              className: \"w-8 h-8 object-contain\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(BaseIcon, {\n              className: \"w-8 h-8 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-bold text-white\",\n                children: building.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-400\",\n                children: [\"Cost:\", \" \", Object.entries(building.cost).map(([resource, amount]) => `${amount} ${resource}`).join(\", \")]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this)\n        }, building.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 5\n  }, this);\n};\n_c0 = ResourcePanel;\nconst RadialMenu = () => {\n  if (!showRadialMenu || !selectedLocation) return null;\n  const actions = [{\n    label: \"Scavenge\",\n    icon: /*#__PURE__*/_jsxDEV(ResourcesIcon, {\n      className: \"w-6 h-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 13\n    }, this),\n    enabled: !selectedLocation.lastScavenged && selectedLocation.scavengeTime > 0,\n    action: () => scavengeLocation(selectedLocation)\n  }, {\n    label: \"Explore\",\n    icon: /*#__PURE__*/_jsxDEV(ExploreIcon, {\n      className: \"w-6 h-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 13\n    }, this),\n    enabled: resources.materials >= EXPLORATION_COST.materials,\n    action: exploreNearby,\n    cost: EXPLORATION_COST\n  }, {\n    label: \"Attack\",\n    icon: /*#__PURE__*/_jsxDEV(AttackIcon, {\n      className: \"w-6 h-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 13\n    }, this),\n    enabled: selectedLocation.owner !== \"player\",\n    action: () => attackLocation(selectedLocation)\n  }, {\n    label: \"Buy Back\",\n    icon: /*#__PURE__*/_jsxDEV(MaterialsIcon, {\n      className: \"w-6 h-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 13\n    }, this),\n    enabled: selectedLocation.owner === null && resources.materials >= 50,\n    action: () => buyBackLocation(selectedLocation),\n    cost: {\n      materials: 50\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed z-50 bg-gray-900 border border-gray-700 rounded-xl p-4 shadow-2xl\",\n    style: {\n      left: radialMenuPosition.x,\n      top: radialMenuPosition.y,\n      transform: \"translate(-50%, -50%)\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-2\",\n      children: [actions.map(action => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: action.action,\n        disabled: !action.enabled,\n        className: `flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all duration-300 ${action.enabled ? \"bg-blue-600 hover:bg-blue-700 text-white\" : \"bg-gray-700 text-gray-400 cursor-not-allowed\"}`,\n        children: [action.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n          children: action.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), action.cost && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs\",\n          children: [\"(\", Object.entries(action.cost).map(([resource, amount]) => `${amount} ${resource}`).join(\", \"), \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 15\n        }, this)]\n      }, action.label, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowRadialMenu(false),\n        className: \"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold bg-gray-700 hover:bg-gray-600 text-white transition-all duration-300\",\n        children: [/*#__PURE__*/_jsxDEV(CancelIcon, {\n          className: \"w-6 h-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 369,\n    columnNumber: 5\n  }, this);\n};\n_c1 = RadialMenu;\nconst DisasterPopup = () => {\n  if (!showDisaster) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-900 border border-red-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-bold text-red-500 mb-4\",\n        children: showDisaster.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-200 mb-6\",\n        children: showDisaster.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowDisaster(null),\n        className: \"px-6 py-3 rounded-lg text-lg font-bold bg-red-600 hover:bg-red-700 text-white transition-all duration-300\",\n        children: \"Acknowledge\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 416,\n    columnNumber: 5\n  }, this);\n};\n_c10 = DisasterPopup;\nconst ScavengePopup = () => {\n  if (!scavengeResult) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-bold text-blue-500 mb-4\",\n        children: \"Resources Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2 mb-6\",\n        children: Object.entries(scavengeResult).map(([resource, amount]) => amount > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-200\",\n          children: [amount, \" \", resource]\n        }, resource, true, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setScavengeResult(null),\n        className: \"px-6 py-3 rounded-lg text-lg font-bold bg-blue-600 hover:bg-blue-700 text-white transition-all duration-300\",\n        children: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 435,\n    columnNumber: 5\n  }, this);\n};\n_c11 = ScavengePopup;\nconst AttackResultPopup = () => {\n  if (!showAttackResult) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-bold text-blue-500 mb-4\",\n        children: showAttackResult.success ? \"Attack Successful!\" : \"Attack Failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-200 mb-6\",\n        children: [showAttackResult.success ? `You've successfully taken over ${showAttackResult.locationName}!` : `Failed to take over ${showAttackResult.locationName}.`, showAttackResult.resourcesGained && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2\",\n          children: [\"Resources gained:\", \" \", Object.entries(showAttackResult.resourcesGained).map(([resource, amount]) => `${amount} ${resource}`).join(\", \")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 13\n        }, this), showAttackResult.survivorsLost && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 text-red-500\",\n          children: [\"Lost \", showAttackResult.survivorsLost, \" survivor(s)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowAttackResult(null),\n        className: \"px-6 py-3 rounded-lg text-lg font-bold bg-blue-600 hover:bg-blue-700 text-white transition-all duration-300\",\n        children: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 462,\n    columnNumber: 5\n  }, this);\n};\n_c12 = AttackResultPopup;\nconst AIAttackPopup = () => {\n  if (!showAIAttack) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-900 border border-red-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-bold text-red-500 mb-4\",\n        children: showAIAttack.success ? \"Location Lost!\" : \"Attack Repelled!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-200 mb-6\",\n        children: [showAIAttack.success ? `Rival clan has taken over ${showAIAttack.locationName}!` : `Successfully defended ${showAIAttack.locationName} from rival clan!`, showAIAttack.survivorsLost && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 text-red-500\",\n          children: [\"Lost \", showAIAttack.survivorsLost, \" survivor(s)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowAIAttack(null),\n        className: \"px-6 py-3 rounded-lg text-lg font-bold bg-red-600 hover:bg-red-700 text-white transition-all duration-300\",\n        children: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 500,\n    columnNumber: 5\n  }, this);\n};\n_c13 = AIAttackPopup;\nconst ApocalypticGame = () => {\n  _s();\n  // State\n  const [resources, setResources] = useState(initialResources);\n  const [activeTab, setActiveTab] = useState(\"resources\");\n  const [isMobile, setIsMobile] = useState(false);\n  const [showRadialMenu, setShowRadialMenu] = useState(false);\n  const [radialMenuPosition, setRadialMenuPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [selectedLocation, setSelectedLocation] = useState(null);\n  const [showDisaster, setShowDisaster] = useState(null);\n  const [autoScavengeEnabled, setAutoScavengeEnabled] = useState(true);\n  const [buildings, setBuildings] = useState([]);\n  const [scavengeResult, setScavengeResult] = useState(null);\n  const [showAttackResult, setShowAttackResult] = useState(null);\n  const [showAIAttack, setShowAIAttack] = useState(null);\n  const [showAttackedAnimation, setShowAttackedAnimation] = useState(null);\n  const [showHowToPlay, setShowHowToPlay] = useState(false);\n  const [waitingForScavengePopup, setWaitingForScavengePopup] = useState(false);\n  const gameLoopRef = useRef(null);\n  const autoSaveRef = useRef(null);\n  const [upgrades, setUpgrades] = useState([{\n    id: \"farm\",\n    name: \"Makeshift Farm\",\n    description: \"Produces food over time\",\n    cost: {\n      materials: 50\n    },\n    effect: \"+5 food/minute\",\n    level: 0,\n    maxLevel: 5\n  }, {\n    id: \"well\",\n    name: \"Water Collector\",\n    description: \"Collects water from the atmosphere\",\n    cost: {\n      materials: 40\n    },\n    effect: \"+3 water/minute\",\n    level: 0,\n    maxLevel: 5\n  }, {\n    id: \"shelter\",\n    name: \"Survivor Shelter\",\n    description: \"Attracts new survivors\",\n    cost: {\n      materials: 100,\n      food: 50\n    },\n    effect: \"+1 survivor chance/hour\",\n    level: 0,\n    maxLevel: 3\n  }]);\n  const GRID_SIZE = 5;\n  const locationNames = [\"Dustfield\", \"Ashrock\", \"Ironpit\", \"Deadwell\", \"Cragpoint\", \"Burnpass\", \"Mudspire\", \"Wretchend\", \"Redhollow\", \"Saltmoor\", \"Scraptown\", \"Charcliff\", \"Dryreach\", \"Ragbank\", \"Blightden\", \"Boneplain\", \"Rustbarrow\", \"Smokefall\", \"Shivglen\", \"Flintgorge\", \"Gravefen\", \"Scorchbay\", \"Fogscar\", \"Ruinstep\", \"Crimsonlot\"];\n  const generateInitialGrid = () => {\n    const locations = [];\n    for (let y = 0; y < GRID_SIZE; y++) {\n      for (let x = 0; x < GRID_SIZE; x++) {\n        const isBase = x === Math.floor(GRID_SIZE / 2) && y === Math.floor(GRID_SIZE / 2);\n        locations.push({\n          id: `cell-${x}-${y}`,\n          name: isBase ? \"Your Base\" : locationNames[y * GRID_SIZE + x] || `Sector-${x}-${y}`,\n          isBase: isBase,\n          x,\n          y,\n          discovered: isBase,\n          scavengeTime: isBase ? 0 : 5000 + Math.floor(Math.random() * 5000),\n          lastScavenged: null,\n          resources: isBase ? {} : Math.random() < 0.8 ? {\n            food: Math.floor(Math.random() * 50) + 10,\n            water: Math.floor(Math.random() * 30) + 5,\n            materials: Math.random() < 0.7 ? Math.floor(Math.random() * 60) + 10 : 0,\n            survivors: Math.random() < 0.3 ? 1 : 0\n          } : {},\n          owner: isBase ? \"player\" : null\n        });\n      }\n    }\n    return locations;\n  };\n  const [locations, setLocations] = useState(generateInitialGrid());\n  const availableBuildings = [{\n    id: \"house-blueprint\",\n    type: \"house\",\n    name: \"House\",\n    cost: {\n      materials: 30,\n      food: 10\n    },\n    level: 0,\n    imageUrl: \"https://img.icons8.com/ios-filled/50/ffffff/home.png\"\n  }];\n  const resourcesRef = useRef(resources);\n  const upgradesRef = useRef(upgrades);\n  useEffect(() => {\n    resourcesRef.current = resources;\n  }, [resources]);\n  useEffect(() => {\n    upgradesRef.current = upgrades;\n  }, [upgrades]);\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    checkMobile();\n    window.addEventListener(\"resize\", checkMobile);\n    return () => window.removeEventListener(\"resize\", checkMobile);\n  }, []);\n  useEffect(() => {\n    const savedGame = localStorage.getItem(SAVE_KEY);\n    if (savedGame) {\n      try {\n        const gameState = JSON.parse(savedGame);\n        const timePassed = Date.now() - gameState.lastSave;\n        const minutesPassed = timePassed / 60000;\n        const offlineResources = {\n          ...gameState.resources\n        };\n        gameState.upgrades.forEach(upgrade => {\n          if (upgrade.id === \"farm\" && upgrade.level > 0) {\n            offlineResources.food += Math.floor(minutesPassed * 5 * upgrade.level * 0.5);\n          }\n          if (upgrade.id === \"well\" && upgrade.level > 0) {\n            offlineResources.water += Math.floor(minutesPassed * 3 * upgrade.level * 0.5);\n          }\n          if (upgrade.id === \"shelter\" && upgrade.level > 0) {\n            offlineResources.survivors += Math.floor(minutesPassed * (1 / 60) * upgrade.level * 0.5);\n          }\n        });\n        setResources(offlineResources);\n        setUpgrades(gameState.upgrades);\n        setLocations(gameState.locations);\n        setAutoScavengeEnabled(gameState.autoScavengeEnabled);\n      } catch (e) {\n        console.error(\"Failed to load save:\", e);\n      }\n    }\n  }, []);\n  const saveGame = useCallback(() => {\n    const gameState = {\n      resources,\n      upgrades,\n      locations,\n      lastSave: Date.now(),\n      autoScavengeEnabled\n    };\n    localStorage.setItem(SAVE_KEY, JSON.stringify(gameState));\n  }, [resources, upgrades, locations, autoScavengeEnabled]);\n  useEffect(() => {\n    autoSaveRef.current = setInterval(saveGame, AUTO_SAVE_INTERVAL);\n    return () => {\n      if (autoSaveRef.current) clearInterval(autoSaveRef.current);\n    };\n  }, [saveGame]);\n  function floorResources(res) {\n    return {\n      food: Math.floor(res.food),\n      water: Math.floor(res.water),\n      materials: Math.floor(res.materials),\n      survivors: Math.floor(res.survivors)\n    };\n  }\n  function isEqualResources(a, b) {\n    return a.food === b.food && a.water === b.water && a.materials === b.materials && a.survivors === b.survivors;\n  }\n  useEffect(() => {\n    gameLoopRef.current = setInterval(() => {\n      setResources(prev => {\n        const newResources = {\n          ...prev\n        };\n        upgrades.forEach(upgrade => {\n          if (upgrade.id === \"farm\" && upgrade.level > 0) {\n            newResources.food += 5 * upgrade.level / 60;\n          }\n          if (upgrade.id === \"well\" && upgrade.level > 0) {\n            newResources.water += 3 * upgrade.level / 60;\n          }\n          if (upgrade.id === \"shelter\" && upgrade.level > 0) {\n            newResources.survivors += 1 * upgrade.level / 3600;\n          }\n        });\n        const totalHousingCapacity = buildings.filter(b => b.type === \"house\").length * HOUSE_CAPACITY;\n        const unhousedSurvivors = newResources.survivors - totalHousingCapacity;\n        if (unhousedSurvivors > 0 && Math.random() < UNHOUSED_SURVIVOR_DEATH_RATE * unhousedSurvivors) {\n          const lostSurvivors = Math.min(Math.ceil(unhousedSurvivors / 5), newResources.survivors);\n          newResources.survivors = Math.max(0, newResources.survivors - lostSurvivors);\n          setShowDisaster({\n            id: \"exposure\",\n            name: \"Exposure!\",\n            description: `Some of your unhoused survivors froze to death! Lost ${lostSurvivors} survivor(s).`,\n            effect: {\n              survivors: -lostSurvivors\n            }\n          });\n        }\n        newResources.food = Math.max(0, newResources.food - prev.survivors * 0.01);\n        newResources.water = Math.max(0, newResources.water - prev.survivors * 0.02);\n        const floored = floorResources(newResources);\n        if (!isEqualResources(floored, floorResources(prev))) {\n          return floored;\n        }\n        return prev;\n      });\n      if (Math.random() < DISASTER_CHANCE) {\n        const disaster = disasters[Math.floor(Math.random() * disasters.length)];\n        setShowDisaster(disaster);\n        applyDisaster(disaster);\n      }\n      if (Math.random() < AI_ATTACK_CHANCE) {\n        triggerAIAttack();\n      }\n      if (autoScavengeEnabled) {\n        checkAutoScavenge();\n      }\n    }, 2000);\n    return () => {\n      if (gameLoopRef.current) clearInterval(gameLoopRef.current);\n    };\n  }, [upgrades, autoScavengeEnabled]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const now = Date.now();\n      if (waitingForScavengePopup || scavengeResult) return;\n      const finished = locations.find(loc => loc.lastScavenged && loc.scavengeTime > 0 && now - loc.lastScavenged >= loc.scavengeTime);\n      if (finished) finalizeScavenge(finished);\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [locations, waitingForScavengePopup, scavengeResult]);\n  const applyDisaster = disaster => {\n    setResources(prev => ({\n      food: Math.max(0, prev.food + (disaster.effect.food || 0)),\n      water: Math.max(0, prev.water + (disaster.effect.water || 0)),\n      materials: Math.max(0, prev.materials + (disaster.effect.materials || 0)),\n      survivors: Math.max(1, prev.survivors + (disaster.effect.survivors || 0))\n    }));\n  };\n  const checkAutoScavenge = () => {\n    if (waitingForScavengePopup) return;\n    const now = Date.now();\n    setLocations(prev => {\n      let hasActiveScavenge = false;\n      let updated = false;\n      const newLocations = prev.map(loc => {\n        if (loc.lastScavenged && loc.scavengeTime > 0) {\n          if (now - loc.lastScavenged >= loc.scavengeTime && !updated) {\n            const loot = {\n              food: loc.resources.food || 0,\n              water: loc.resources.water || 0,\n              materials: loc.resources.materials || 0,\n              survivors: loc.resources.survivors || 0\n            };\n            finalizeScavenge(loc);\n            updated = true;\n            return loc;\n          }\n          hasActiveScavenge = true;\n          return loc;\n        }\n        return loc;\n      });\n      if (!hasActiveScavenge && !updated) {\n        const targetIndex = newLocations.findIndex(loc => loc.discovered && !loc.lastScavenged && loc.scavengeTime > 0 && Object.values(loc.resources).some(v => v && v > 0));\n        if (targetIndex !== -1) {\n          newLocations[targetIndex] = {\n            ...newLocations[targetIndex],\n            lastScavenged: now\n          };\n          updated = true;\n        }\n      }\n      return newLocations;\n    });\n  };\n  const [notifications, setNotifications] = useState([]);\n  const addNotification = (message, type = 'info') => {\n    const id = Date.now().toString();\n    setNotifications(prev => [...prev, {\n      id,\n      message,\n      type,\n      timestamp: Date.now()\n    }]);\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== id));\n    }, 5000);\n  };\n  const finalizeScavenge = location => {\n    const loot = {\n      food: location.resources.food || 0,\n      water: location.resources.water || 0,\n      materials: location.resources.materials || 0,\n      survivors: location.resources.survivors || 0\n    };\n    const resourceMessages = Object.entries(loot).filter(([_, value]) => value > 0).map(([resource, value]) => `${value} ${resource}`).join(', ');\n    if (resourceMessages) {\n      addNotification(`Found resources: ${resourceMessages}`, 'success');\n    }\n    setResources(prevResources => ({\n      food: prevResources.food + loot.food,\n      water: prevResources.water + loot.water,\n      materials: prevResources.materials + loot.materials,\n      survivors: prevResources.survivors + loot.survivors\n    }));\n    setLocations(prev => prev.map(loc => loc.id === location.id ? {\n      ...loc,\n      lastScavenged: null,\n      resources: {},\n      wasScavenged: true\n    } : loc));\n  };\n  const handleMapClick = (e, location) => {\n    e.stopPropagation();\n    if (!location.discovered && location.id !== \"base\") return;\n    setSelectedLocation(location);\n    setRadialMenuPosition({\n      x: e.clientX,\n      y: e.clientY\n    });\n    setShowRadialMenu(true);\n  };\n  const scavengeLocation = location => {\n    if (location.lastScavenged || location.scavengeTime === 0) return;\n    setLocations(prev => prev.map(loc => loc.id === location.id ? {\n      ...loc,\n      lastScavenged: Date.now()\n    } : loc));\n    setShowRadialMenu(false);\n  };\n  const exploreNearby = () => {\n    if (!selectedLocation) return;\n    const cost = EXPLORATION_COST;\n    const canAfford = Object.entries(cost).every(([resource, amount]) => resources[resource] >= (amount || 0));\n    if (!canAfford) {\n      setShowAttackResult({\n        success: false,\n        locationName: \"Exploration\",\n        survivorsLost: 0\n      });\n      setShowRadialMenu(false);\n      return;\n    }\n    setResources(prev => {\n      const newResources = {\n        ...prev\n      };\n      Object.entries(cost).forEach(([resource, amount]) => {\n        newResources[resource] -= amount || 0;\n      });\n      return newResources;\n    });\n    const getGridCoords = id => {\n      const match = id.match(/cell-(\\d+)-(\\d+)/);\n      if (!match) return null;\n      return {\n        x: parseInt(match[1]),\n        y: parseInt(match[2])\n      };\n    };\n    const selectedCoords = getGridCoords(selectedLocation.id);\n    if (!selectedCoords) return;\n    setLocations(prev => prev.map(loc => {\n      const coords = getGridCoords(loc.id);\n      if (!coords || loc.discovered) return loc;\n      const dx = Math.abs(coords.x - selectedCoords.x);\n      const dy = Math.abs(coords.y - selectedCoords.y);\n      if (dx <= 1 && dy <= 1) {\n        return {\n          ...loc,\n          discovered: true\n        };\n      }\n      return loc;\n    }));\n    setShowRadialMenu(false);\n  };\n  const purchaseUpgrade = upgrade => {\n    if (upgrade.level >= upgrade.maxLevel) return;\n    const canAfford = Object.entries(upgrade.cost).every(([resource, cost]) => resources[resource] >= (cost || 0));\n    if (canAfford) {\n      setResources(prev => {\n        const newResources = {\n          ...prev\n        };\n        Object.entries(upgrade.cost).forEach(([resource, cost]) => {\n          newResources[resource] -= cost || 0;\n        });\n        return newResources;\n      });\n      setUpgrades(prev => prev.map(u => u.id === upgrade.id ? {\n        ...u,\n        level: u.level + 1,\n        cost: Object.fromEntries(Object.entries(u.cost).map(([r, c]) => [r, Math.floor((c || 0) * 1.5)]))\n      } : u));\n    }\n  };\n  const getScavengeProgress = location => {\n    if (!location.lastScavenged || location.scavengeTime === 0) return 0;\n    const elapsed = Date.now() - location.lastScavenged;\n    return Math.min(100, elapsed / location.scavengeTime * 100);\n  };\n  const attackLocation = location => {\n    const success = Math.random() < 0.7;\n    if (success) {\n      const materialsGained = 20 + Math.floor(Math.random() * 30);\n      setResources(prev => ({\n        ...prev,\n        materials: prev.materials + materialsGained\n      }));\n      setLocations(prev => prev.map(loc => loc.id === location.id ? {\n        ...loc,\n        owner: \"player\"\n      } : loc));\n      setShowAttackResult({\n        success: true,\n        locationName: location.name,\n        resourcesGained: {\n          materials: materialsGained\n        }\n      });\n      setShowAttackedAnimation(location.id);\n    } else {\n      const survivorsLost = 1;\n      setResources(prev => ({\n        ...prev,\n        survivors: Math.max(0, prev.survivors - survivorsLost)\n      }));\n      setShowAttackResult({\n        success: false,\n        locationName: location.name,\n        survivorsLost: survivorsLost\n      });\n    }\n    setShowRadialMenu(false);\n  };\n  const buyBackLocation = location => {\n    const cost = {\n      materials: 50\n    };\n    const canAfford = Object.entries(cost).every(([resource, amount]) => resources[resource] >= (amount || 0));\n    if (canAfford) {\n      setResources(prev => {\n        const newResources = {\n          ...prev\n        };\n        Object.entries(cost).forEach(([resource, amount]) => {\n          newResources[resource] -= amount || 0;\n        });\n        return newResources;\n      });\n      setLocations(prev => prev.map(loc => loc.id === location.id ? {\n        ...loc,\n        owner: \"player\"\n      } : loc));\n      setShowAttackedAnimation(location.id);\n      setShowRadialMenu(false);\n    } else {\n      console.log(\"Cannot afford to buy back this location.\");\n    }\n  };\n  const [isFirstTimeUser, setIsFirstTimeUser] = useState(() => {\n    const savedGame = localStorage.getItem(SAVE_KEY);\n    return !savedGame;\n  });\n  const [isGameOver, setIsGameOver] = useState(false);\n  const startNewGame = () => {\n    setResources(initialResources);\n    setUpgrades(upgrades.map(upgrade => ({\n      ...upgrade,\n      level: 0\n    })));\n    setLocations(generateInitialGrid());\n    setBuildings([]);\n    setIsGameOver(false);\n    setIsFirstTimeUser(false);\n    setShowDisaster(null);\n    setShowAttackResult(null);\n    setShowAIAttack(null);\n    setScavengeResult(null);\n    setWaitingForScavengePopup(false);\n    setShowAttackedAnimation(null);\n    setSelectedLocation(null);\n    setShowRadialMenu(false);\n    localStorage.removeItem(SAVE_KEY);\n  };\n  useEffect(() => {\n    if (showAttackedAnimation) {\n      const timer = setTimeout(() => {\n        setShowAttackedAnimation(null);\n      }, 1500);\n      return () => clearTimeout(timer);\n    }\n  }, [showAttackedAnimation]);\n  const GameOver = () => {\n    if (!isGameOver) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-gray-900 border border-red-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-4xl font-bold text-red-500 mb-6 drop-shadow-md\",\n          children: \"Game Over\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-200 text-lg mb-8\",\n          children: \"All your survivors have perished. The wasteland has claimed another settlement.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startNewGame,\n            className: \"w-full px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-green-600 to-green-800 hover:from-green-700 hover:to-green-900 text-white\",\n            children: \"Start New Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1162,\n      columnNumber: 7\n    }, this);\n  };\n  const NewGame = () => {\n    if (!isFirstTimeUser) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-4xl font-bold text-blue-500 mb-6 drop-shadow-md\",\n          children: \"Welcome to Wasteland Survivor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-200 text-lg mb-8\",\n          children: \"Lead your survivors through the post-apocalyptic wasteland. Gather resources, expand your territory, and survive against all odds.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startNewGame,\n            className: \"w-full px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white\",\n            children: \"Start New Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1196,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1187,\n      columnNumber: 7\n    }, this);\n  };\n  const Notifications = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed top-4 right-4 z-50 space-y-2\",\n    children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `px-4 py-2 rounded-lg shadow-lg transform transition-all duration-300 ${notification.type === 'success' ? 'bg-green-600' : notification.type === 'error' ? 'bg-red-600' : 'bg-blue-600'}`,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white font-medium\",\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1221,\n        columnNumber: 11\n      }, this)\n    }, notification.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1211,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1209,\n    columnNumber: 5\n  }, this);\n  useEffect(() => {\n    if (resources.survivors <= 0 && !isGameOver) {\n      setIsGameOver(true);\n    }\n  }, [resources.survivors, isGameOver]);\n  const triggerAIAttack = () => {\n    const playerOwnedLocations = locations.filter(loc => loc.owner === \"player\" && !loc.isBase);\n    if (playerOwnedLocations.length > 0) {\n      const targetLocation = playerOwnedLocations[Math.floor(Math.random() * playerOwnedLocations.length)];\n      const success = Math.random() < 0.75;\n      setShowAttackedAnimation(targetLocation.id);\n      if (success) {\n        setLocations(prev => prev.map(loc => loc.id === targetLocation.id ? {\n          ...loc,\n          owner: null\n        } : loc));\n        setResources(prev => ({\n          ...prev,\n          survivors: Math.max(0, prev.survivors - 1)\n        }));\n        setShowAIAttack({\n          locationId: targetLocation.id,\n          locationName: targetLocation.name,\n          success: true,\n          survivorsLost: 1\n        });\n      } else {\n        setShowAIAttack({\n          locationId: targetLocation.id,\n          locationName: targetLocation.name,\n          success: false\n        });\n      }\n    }\n  };\n  const HowToPlay = () => {\n    if (!showHowToPlay) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-2xl shadow-2xl text-center animate-fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-4xl font-bold text-blue-500 mb-6 drop-shadow-md font-display\",\n          children: \"How to Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-200 text-lg space-y-4 text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Welcome to Wasteland Survivor! Your goal is to lead your group of survivors through a post-apocalyptic world. Here's how to play:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Resources:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Gather Food, Water, Materials, and manage your Survivors. These are essential for survival and progress.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Map & Exploration:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Click on map locations to open a radial menu. You can Scavenge locations for resources, Attack rival locations to take them over, or Explore nearby to discover new areas. Exploring costs materials.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Buildings:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"From the Resources panel, you can drag and drop buildings like Houses onto available map squares. Houses provide shelter for your survivors; without enough housing, survivors will freeze and die!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Upgrades:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Invest in base upgrades to increase your resource production and survivor attraction.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Threats:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Beware of random Disasters and Rival Clan attacks. These events can deplete your resources and survivors, so be prepared!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Game Over:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"The game ends if all your survivors are lost. You can always start a new game to try again!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1300,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowHowToPlay(false),\n          className: \"w-full mt-8 px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white\",\n          children: \"Got It!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1276,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1275,\n      columnNumber: 7\n    }, this);\n  };\n  const MapView = ({\n    buildings,\n    availableBuildings,\n    setBuildings,\n    setResources,\n    locations,\n    showAttackedAnimation\n  }) => {\n    const handleDragOver = e => {\n      e.preventDefault();\n    };\n    const handleDrop = (e, locationId) => {\n      e.preventDefault();\n      const buildingId = e.dataTransfer.getData(\"buildingId\");\n      const buildingBlueprint = availableBuildings.find(b => b.id === buildingId);\n      const targetLocation = locations.find(loc => loc.id === locationId);\n      if (!buildingBlueprint || !targetLocation) return;\n      const isLocationOccupied = buildings.some(b => b.locationId === locationId);\n      if (!targetLocation.discovered || targetLocation.owner !== \"player\" || targetLocation.isBase || isLocationOccupied) {\n        return;\n      }\n      const canAfford = Object.entries(buildingBlueprint.cost).every(([resource, cost]) => resources[resource] >= (cost || 0));\n      if (!canAfford) {\n        return;\n      }\n      setResources(prev => {\n        const newResources = {\n          ...prev\n        };\n        Object.entries(buildingBlueprint.cost).forEach(([resource, cost]) => {\n          newResources[resource] -= cost || 0;\n        });\n        return newResources;\n      });\n      const newBuilding = {\n        ...buildingBlueprint,\n        id: `${buildingBlueprint.type}-${Date.now()}`,\n        locationId: locationId\n      };\n      setBuildings(prev => [...prev, newBuilding]);\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative bg-gray-900 border border-gray-700 rounded-xl p-4 sm:p-8 shadow-2xl h-full flex flex-col overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-br before:from-gray-800 before:via-gray-900 before:to-black before:opacity-50 before:rounded-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"relative z-10 text-2xl sm:text-4xl font-black text-white mb-4 sm:mb-8 text-center drop-shadow-md\",\n        children: \"Wasteland Map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1371,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-10 grid bg-gray-950 border border-gray-700 rounded-lg aspect-square shadow-inner overflow-hidden\",\n        style: {\n          gridTemplateColumns: `repeat(${GRID_SIZE}, 1fr)`,\n          gridTemplateRows: `repeat(${GRID_SIZE}, 1fr)`\n        },\n        onClick: () => setShowRadialMenu(false),\n        children: locations.map(location => {\n          const isAnimatingTakeover = showAttackedAnimation === location.id;\n          const placedBuilding = buildings.find(b => b.locationId === location.id);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `relative flex items-center justify-center p-0.5 sm:p-1 transition-all duration-300 group ${location.discovered ? \"cursor-pointer\" : \"opacity-30\"} ${isAnimatingTakeover ? 'animate-pulse' : ''} ${location.id === showAttackedAnimation ? 'border-2 sm:border-4 border-red-500 animate-pulse-fast' : ''}`,\n            onClick: e => handleMapClick(e, location),\n            onDragOver: handleDragOver,\n            onDrop: e => handleDrop(e, location.id),\n            children: location.discovered ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative w-full h-full flex flex-col items-center justify-center text-center rounded-md overflow-hidden shadow-md group-hover:shadow-lg transition-shadow duration-300 border border-transparent group-hover:border-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-full h-full flex items-center justify-center text-2xl sm:text-4xl transform transition-all duration-300 group-hover:scale-105 ${location.isBase || location.owner === \"player\" ? \"bg-green-700\" : \"bg-blue-700\"}`,\n                children: placedBuilding ? placedBuilding.imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: placedBuilding.imageUrl,\n                  alt: placedBuilding.name,\n                  className: \"w-8 h-8 sm:w-10 sm:h-10 object-contain mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1401,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(BaseIcon, {\n                  className: \"w-8 h-8 sm:w-10 sm:h-10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1403,\n                  columnNumber: 27\n                }, this) : location.isBase ? /*#__PURE__*/_jsxDEV(BaseIcon, {\n                  className: \"w-8 h-8 sm:w-10 sm:h-10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1407,\n                  columnNumber: 27\n                }, this) : location.owner === \"player\" ? /*#__PURE__*/_jsxDEV(ResourcesIcon, {\n                  className: \"w-8 h-8 sm:w-10 sm:h-10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1409,\n                  columnNumber: 27\n                }, this) : location.resources && Object.values(location.resources).some(val => val && val > 0) ? /*#__PURE__*/_jsxDEV(ResourcesIcon, {\n                  className: \"w-8 h-8 sm:w-10 sm:h-10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1411,\n                  columnNumber: 27\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1396,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute bottom-0 left-0 right-0 bg-gray-800 bg-opacity-80 p-0.5 text-center backdrop-blur-sm group-hover:bg-opacity-90 transition-opacity\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[8px] sm:text-xs font-medium text-gray-200 truncate\",\n                  children: location.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1416,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1415,\n                columnNumber: 21\n              }, this), location.lastScavenged && location.scavengeTime > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-0 left-0 right-0 h-0.5 sm:h-1 bg-gray-700 rounded-t\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-full bg-yellow-500 rounded-t transition-all duration-1000\",\n                  style: {\n                    width: `${getScavengeProgress(location)}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1422,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1421,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1395,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-full rounded-md bg-gray-800 flex items-center justify-center text-2xl sm:text-4xl opacity-50 animate-pulse border border-gray-700\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1430,\n              columnNumber: 19\n            }, this)\n          }, location.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1387,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1374,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1370,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-950 text-white font-outfit antialiased relative overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(Notifications, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1442,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-0 opacity-10 pointer-events-none\",\n      style: {\n        backgroundImage: `url('https://www.transparenttextures.com/patterns/dust-and-stones.png')`,\n        backgroundSize: 'cover',\n        backgroundAttachment: 'fixed'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1444,\n      columnNumber: 7\n    }, this), !isGameOver && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: isMobile ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-10 px-2 py-4 h-screen flex flex-col bg-gray-950 bg-opacity-95 pointer-events-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-black text-center mb-4 text-white drop-shadow-lg leading-tight tracking-tight\",\n          children: [\"Wasteland\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1459,\n            columnNumber: 17\n          }, this), \"Survivor\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1457,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex mb-4 bg-gray-800 rounded-lg p-1 shadow-inner border border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab(\"resources\"),\n            className: `flex-1 py-2 px-3 rounded-md text-base font-bold transition-all duration-300 ${activeTab === \"resources\" ? \"bg-gradient-to-r from-blue-600 to-blue-800 text-white\" : \"text-gray-400 hover:text-white hover:bg-gray-700\"}`,\n            children: \"Resources\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1463,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab(\"map\"),\n            className: `flex-1 py-2 px-3 rounded-md text-base font-bold transition-all duration-300 ${activeTab === \"map\" ? \"bg-gradient-to-r from-blue-600 to-blue-800 text-white\" : \"text-gray-400 hover:text-white hover:bg-gray-700\"}`,\n            children: \"Map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1472,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1462,\n          columnNumber: 15\n        }, this), activeTab === \"resources\" ? /*#__PURE__*/_jsxDEV(ResourcePanel, {\n          resources: resources,\n          upgrades: upgrades,\n          autoScavengeEnabled: autoScavengeEnabled,\n          purchaseUpgrade: purchaseUpgrade,\n          setAutoScavengeEnabled: setAutoScavengeEnabled,\n          availableBuildings: availableBuildings\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1483,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(MapView, {\n            buildings: buildings,\n            availableBuildings: availableBuildings,\n            setBuildings: setBuildings,\n            setResources: setResources,\n            locations: locations,\n            showAttackedAnimation: showAttackedAnimation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1493,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1492,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1456,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-10 flex h-screen p-8 gap-8 bg-gray-950 bg-opacity-95\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-1/2 flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-5xl font-black mb-8 text-white drop-shadow-lg leading-tight text-center tracking-tight\",\n            children: [\"Wasteland\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1509,\n              columnNumber: 19\n            }, this), \"Survivor\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1507,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ResourcePanel, {\n            resources: resources,\n            upgrades: upgrades,\n            autoScavengeEnabled: autoScavengeEnabled,\n            purchaseUpgrade: purchaseUpgrade,\n            setAutoScavengeEnabled: setAutoScavengeEnabled,\n            availableBuildings: availableBuildings\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1512,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1506,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-1/2 flex flex-col h-full\",\n          children: /*#__PURE__*/_jsxDEV(MapView, {\n            buildings: buildings,\n            availableBuildings: availableBuildings,\n            setBuildings: setBuildings,\n            setResources: setResources,\n            locations: locations,\n            showAttackedAnimation: showAttackedAnimation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1522,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1521,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1505,\n        columnNumber: 13\n      }, this)\n    }, void 0, false), !isGameOver && !isFirstTimeUser && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowHowToPlay(true),\n      className: \"fixed bottom-4 right-4 px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-purple-600 to-purple-800 hover:from-purple-700 hover:to-purple-900 text-white z-40\",\n      children: \"How to Play\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1537,\n      columnNumber: 9\n    }, this), (showRadialMenu || showDisaster || scavengeResult || showAttackResult || showAIAttack || isGameOver || isFirstTimeUser || showHowToPlay) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-50 bg-black bg-opacity-70 flex items-center justify-center pointer-events-auto\",\n      onClick: e => {\n        if (e.target === e.currentTarget) {\n          setShowRadialMenu(false);\n          setShowDisaster(null);\n          setScavengeResult(null);\n          setShowAttackResult(null);\n          setShowAIAttack(null);\n          setShowHowToPlay(false);\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(RadialMenu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1559,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DisasterPopup, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1560,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ScavengePopup, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1561,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AttackResultPopup, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1562,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AIAttackPopup, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1563,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GameOver, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1564,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(NewGame, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1565,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(HowToPlay, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1566,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1546,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1441,\n    columnNumber: 5\n  }, this);\n};\n_s(ApocalypticGame, \"xelkRyu1Wp4fC/V+6KMiO+pl0o4=\");\n_c14 = ApocalypticGame;\nexport default ApocalypticGame;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"FoodIcon\");\n$RefreshReg$(_c2, \"WaterIcon\");\n$RefreshReg$(_c3, \"MaterialsIcon\");\n$RefreshReg$(_c4, \"SurvivorsIcon\");\n$RefreshReg$(_c5, \"BaseIcon\");\n$RefreshReg$(_c6, \"ResourcesIcon\");\n$RefreshReg$(_c7, \"AttackIcon\");\n$RefreshReg$(_c8, \"ExploreIcon\");\n$RefreshReg$(_c9, \"CancelIcon\");\n$RefreshReg$(_c0, \"ResourcePanel\");\n$RefreshReg$(_c1, \"RadialMenu\");\n$RefreshReg$(_c10, \"DisasterPopup\");\n$RefreshReg$(_c11, \"ScavengePopup\");\n$RefreshReg$(_c12, \"AttackResultPopup\");\n$RefreshReg$(_c13, \"AIAttackPopup\");\n$RefreshReg$(_c14, \"ApocalypticGame\");","map":{"version":3,"names":["React","useCallback","useEffect","useRef","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","SAVE_KEY","AUTO_SAVE_INTERVAL","DISASTER_CHANCE","AI_ATTACK_CHANCE","HOUSE_CAPACITY","UNHOUSED_SURVIVOR_DEATH_RATE","EXPLORATION_COST","materials","initialResources","food","water","survivors","disasters","id","name","description","effect","FoodIcon","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","fileName","_jsxFileName","lineNumber","columnNumber","x1","y1","x2","y2","_c","WaterIcon","_c2","MaterialsIcon","_c3","SurvivorsIcon","cx","cy","r","_c4","BaseIcon","points","_c5","ResourcesIcon","_c6","AttackIcon","_c7","ExploreIcon","_c8","CancelIcon","_c9","ResourcePanel","resources","upgrades","autoScavengeEnabled","purchaseUpgrade","setAutoScavengeEnabled","availableBuildings","Math","floor","map","upgrade","level","maxLevel","Object","entries","cost","resource","amount","join","onClick","disabled","type","checked","onChange","e","target","building","draggable","onDragStart","dataTransfer","setData","imageUrl","src","alt","_c0","RadialMenu","showRadialMenu","selectedLocation","actions","label","icon","enabled","lastScavenged","scavengeTime","action","scavengeLocation","exploreNearby","owner","attackLocation","buyBackLocation","style","left","radialMenuPosition","x","top","y","transform","setShowRadialMenu","_c1","DisasterPopup","showDisaster","setShowDisaster","_c10","ScavengePopup","scavengeResult","setScavengeResult","_c11","AttackResultPopup","showAttackResult","success","locationName","resourcesGained","survivorsLost","setShowAttackResult","_c12","AIAttackPopup","showAIAttack","setShowAIAttack","_c13","ApocalypticGame","_s","setResources","activeTab","setActiveTab","isMobile","setIsMobile","setRadialMenuPosition","setSelectedLocation","buildings","setBuildings","showAttackedAnimation","setShowAttackedAnimation","showHowToPlay","setShowHowToPlay","waitingForScavengePopup","setWaitingForScavengePopup","gameLoopRef","autoSaveRef","setUpgrades","GRID_SIZE","locationNames","generateInitialGrid","locations","isBase","push","discovered","random","setLocations","resourcesRef","upgradesRef","current","checkMobile","window","innerWidth","addEventListener","removeEventListener","savedGame","localStorage","getItem","gameState","JSON","parse","timePassed","Date","now","lastSave","minutesPassed","offlineResources","forEach","console","error","saveGame","setItem","stringify","setInterval","clearInterval","floorResources","res","isEqualResources","a","b","prev","newResources","totalHousingCapacity","filter","length","unhousedSurvivors","lostSurvivors","min","ceil","max","floored","disaster","applyDisaster","triggerAIAttack","checkAutoScavenge","interval","finished","find","loc","finalizeScavenge","hasActiveScavenge","updated","newLocations","loot","targetIndex","findIndex","values","some","v","notifications","setNotifications","addNotification","message","toString","timestamp","setTimeout","n","location","resourceMessages","_","value","prevResources","wasScavenged","handleMapClick","stopPropagation","clientX","clientY","canAfford","every","getGridCoords","match","parseInt","selectedCoords","coords","dx","abs","dy","u","fromEntries","c","getScavengeProgress","elapsed","materialsGained","log","isFirstTimeUser","setIsFirstTimeUser","isGameOver","setIsGameOver","startNewGame","removeItem","timer","clearTimeout","GameOver","NewGame","Notifications","notification","playerOwnedLocations","targetLocation","locationId","HowToPlay","MapView","handleDragOver","preventDefault","handleDrop","buildingId","getData","buildingBlueprint","isLocationOccupied","newBuilding","gridTemplateColumns","gridTemplateRows","isAnimatingTakeover","placedBuilding","onDragOver","onDrop","val","width","backgroundImage","backgroundSize","backgroundAttachment","currentTarget","_c14","$RefreshReg$"],"sources":["/Users/faybennett/outlierTasks/game-app/src/App.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from \"react\";\n\n// Types\ninterface Resources {\n  food: number;\n  water: number;\n  materials: number;\n  survivors: number;\n}\n\ninterface BaseUpgrade {\n  id: string;\n  name: string;\n  description: string;\n  cost: Partial<Resources>;\n  effect: string;\n  level: number;\n  maxLevel: number;\n}\n\ninterface MapLocation {\n  id: string;\n  name: string;\n  x: number;\n  y: number;\n  discovered: boolean;\n  scavengeTime: number;\n  lastScavenged: number | null;\n  resources: Partial<Resources>;\n  isBase?: boolean;\n  wasScavenged?: boolean;\n  owner?: string | null;\n}\n\ninterface Building {\n  id: string;\n  type: \"house\" | \"water_collector\";\n  locationId?: string;\n  level: number;\n  imageUrl?: string;\n  name: string;\n  cost: Partial<Resources>;\n}\n\ninterface Disaster {\n  id: string;\n  name: string;\n  description: string;\n  effect: Partial<Resources>;\n}\n\ninterface AIAttack {\n  locationId: string;\n  locationName: string;\n  success: boolean;\n  resourcesLost?: Partial<Resources>;\n  survivorsLost?: number;\n}\n\ninterface RadialMenuAction {\n  label: string;\n  icon: React.ReactNode;\n  enabled: boolean;\n  action: () => void;\n  cost?: Partial<Resources>;\n}\n\ninterface GameState {\n  resources: Resources;\n  upgrades: BaseUpgrade[];\n  locations: MapLocation[];\n  lastSave: number;\n  autoScavengeEnabled: boolean;\n}\n\ninterface Notification {\n  id: string;\n  message: string;\n  type: 'success' | 'error' | 'info';\n  timestamp: number;\n}\n\n// Constants\nconst SAVE_KEY = \"apocalypse-idle-save\";\nconst AUTO_SAVE_INTERVAL = 10000;\nconst DISASTER_CHANCE = 0.002;\nconst AI_ATTACK_CHANCE = 0.02;\nconst HOUSE_CAPACITY = 2;\nconst UNHOUSED_SURVIVOR_DEATH_RATE = 0.01;\nconst EXPLORATION_COST = { \n  materials: 20\n};\n\nconst initialResources: Resources = {\n  food: 100,\n  water: 100,\n  materials: 50,\n  survivors: 5,\n};\n\nconst disasters: Disaster[] = [\n  {\n    id: \"raiders\",\n    name: \"Raider Attack!\",\n    description: \"Raiders have attacked your base!\",\n    effect: { food: -20, water: -15, materials: -10 },\n  },\n  {\n    id: \"drought\",\n    name: \"Drought\",\n    description: \"Water supplies are running low!\",\n    effect: { water: -30 },\n  },\n  {\n    id: \"sickness\",\n    name: \"Disease Outbreak\",\n    description: \"A disease has spread through your camp!\",\n    effect: { survivors: -1, food: -10 },\n  },\n];\n\n// Icon components\nconst FoodIcon = ({ className = \"h-8 w-8\" }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M18 8h1a4 4 0 0 1 0 8h-1\"></path>\n    <path d=\"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z\"></path>\n    <line x1=\"6\" y1=\"1\" x2=\"6\" y2=\"4\"></line>\n    <line x1=\"10\" y1=\"1\" x2=\"10\" y2=\"4\"></line>\n    <line x1=\"14\" y1=\"1\" x2=\"14\" y2=\"4\"></line>\n  </svg>\n);\n\nconst WaterIcon = ({ className = \"h-8 w-8\" }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z\"></path>\n  </svg>\n);\n\nconst MaterialsIcon = ({ className = \"h-8 w-8\" }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z\"></path>\n  </svg>\n);\n\nconst SurvivorsIcon = ({ className = \"h-8 w-8\" }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"></path>\n    <circle cx=\"9\" cy=\"7\" r=\"4\"></circle>\n    <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\"></path>\n    <path d=\"M16 3.13a4 4 0 0 1 0 7.75\"></path>\n  </svg>\n);\n\nconst BaseIcon = ({ className = \"h-8 w-8\" }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path>\n    <polyline points=\"9 22 9 12 15 12 15 22\"></polyline>\n  </svg>\n);\n\nconst ResourcesIcon = ({ className = \"h-8 w-8\" }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z\"></path>\n    <line x1=\"16\" y1=\"8\" x2=\"2\" y2=\"22\"></line>\n    <line x1=\"17.5\" y1=\"15\" x2=\"9\" y2=\"15\"></line>\n  </svg>\n);\n\nconst AttackIcon = ({ className = \"h-8 w-8\" }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <path d=\"M12 19l7-7 3 3-7 7-3-3z\"></path>\n    <path d=\"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z\"></path>\n    <path d=\"M2 2l7.586 7.586\"></path>\n    <circle cx=\"11\" cy=\"11\" r=\"2\"></circle>\n  </svg>\n);\n\nconst ExploreIcon = ({ className = \"h-8 w-8\" }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n    <polygon points=\"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76\"></polygon>\n  </svg>\n);\n\nconst CancelIcon = ({ className = \"h-8 w-8\" }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" className={className} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n  </svg>\n);\n\nconst ResourcePanel = ({\n  resources,\n  upgrades,\n  autoScavengeEnabled,\n  purchaseUpgrade,\n  setAutoScavengeEnabled,\n  availableBuildings,\n}: {\n  resources: Resources;\n  upgrades: BaseUpgrade[];\n  autoScavengeEnabled: boolean;\n  purchaseUpgrade: (upgrade: BaseUpgrade) => void;\n  setAutoScavengeEnabled: (enabled: boolean) => void;\n  availableBuildings: Building[];\n}) => {\n  return (\n    <div className=\"relative bg-gray-900 border border-gray-700 rounded-xl p-4 sm:p-8 shadow-2xl h-full flex flex-col overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-br before:from-gray-800 before:via-gray-900 before:to-black before:opacity-50 before:rounded-xl\">\n      <h2 className=\"relative z-10 text-2xl sm:text-4xl font-black text-white mb-4 sm:mb-8 text-center drop-shadow-md\">\n        Resources\n      </h2>\n      <div className=\"relative z-10 grid grid-cols-2 gap-4 mb-8\">\n        <div className=\"bg-gray-800 p-4 rounded-lg border border-gray-700\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <FoodIcon className=\"w-6 h-6 text-orange-500\" />\n            <span className=\"text-lg font-bold\">Food</span>\n          </div>\n          <p className=\"text-2xl font-bold\">{Math.floor(resources.food)}</p>\n        </div>\n        <div className=\"bg-gray-800 p-4 rounded-lg border border-gray-700\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <WaterIcon className=\"w-6 h-6 text-blue-500\" />\n            <span className=\"text-lg font-bold\">Water</span>\n          </div>\n          <p className=\"text-2xl font-bold\">{Math.floor(resources.water)}</p>\n        </div>\n        <div className=\"bg-gray-800 p-4 rounded-lg border border-gray-700\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <MaterialsIcon className=\"w-6 h-6 text-gray-400\" />\n            <span className=\"text-lg font-bold\">Materials</span>\n          </div>\n          <p className=\"text-2xl font-bold\">{Math.floor(resources.materials)}</p>\n        </div>\n        <div className=\"bg-gray-800 p-4 rounded-lg border border-gray-700\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <SurvivorsIcon className=\"w-6 h-6 text-green-500\" />\n            <span className=\"text-lg font-bold\">Survivors</span>\n          </div>\n          <p className=\"text-2xl font-bold\">{Math.floor(resources.survivors)}</p>\n        </div>\n      </div>\n\n      <div className=\"relative z-10 space-y-4\">\n        <h3 className=\"text-xl font-bold text-white mb-4\">Base Upgrades</h3>\n        <div className=\"space-y-4\">\n          {upgrades.map((upgrade) => (\n            <div\n              key={upgrade.id}\n              className=\"bg-gray-800 p-4 rounded-lg border border-gray-700\"\n            >\n              <div className=\"flex justify-between items-start mb-2\">\n                <div>\n                  <h4 className=\"text-lg font-bold text-white\">{upgrade.name}</h4>\n                  <p className=\"text-sm text-gray-400\">{upgrade.description}</p>\n                </div>\n                <span className=\"text-sm text-gray-400\">\n                  Level {upgrade.level}/{upgrade.maxLevel}\n                </span>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                <div className=\"text-sm text-gray-400\">\n                  Cost:{\" \"}\n                  {Object.entries(upgrade.cost)\n                    .map(([resource, amount]) => `${amount} ${resource}`)\n                    .join(\", \")}\n                </div>\n                <button\n                  onClick={() => purchaseUpgrade(upgrade)}\n                  disabled={upgrade.level >= upgrade.maxLevel}\n                  className={`px-4 py-2 rounded-lg text-sm font-bold transition-all duration-300 ${\n                    upgrade.level >= upgrade.maxLevel\n                      ? \"bg-gray-700 text-gray-400 cursor-not-allowed\"\n                      : \"bg-blue-600 hover:bg-blue-700 text-white\"\n                  }`}\n                >\n                  {upgrade.level >= upgrade.maxLevel ? \"Max Level\" : \"Upgrade\"}\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"relative z-10 mt-8\">\n        <label className=\"flex items-center gap-2 cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={autoScavengeEnabled}\n            onChange={(e) => setAutoScavengeEnabled(e.target.checked)}\n            className=\"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500\"\n          />\n          <span className=\"text-sm text-gray-300\">Auto Scavenge</span>\n        </label>\n      </div>\n\n      <div className=\"relative z-10 mt-8\">\n        <h3 className=\"text-xl font-bold text-white mb-4\">Buildings</h3>\n        <div className=\"grid grid-cols-1 gap-4\">\n          {availableBuildings.map((building) => (\n            <div\n              key={building.id}\n              draggable\n              onDragStart={(e) => {\n                e.dataTransfer.setData(\"buildingId\", building.id);\n              }}\n              className=\"bg-gray-800 p-4 rounded-lg border border-gray-700 cursor-move hover:bg-gray-700 transition-colors\"\n            >\n              <div className=\"flex items-center gap-3\">\n                {building.imageUrl ? (\n                  <img\n                    src={building.imageUrl}\n                    alt={building.name}\n                    className=\"w-8 h-8 object-contain\"\n                  />\n                ) : (\n                  <BaseIcon className=\"w-8 h-8 text-gray-400\" />\n                )}\n                <div>\n                  <h4 className=\"text-lg font-bold text-white\">{building.name}</h4>\n                  <p className=\"text-sm text-gray-400\">\n                    Cost:{\" \"}\n                    {Object.entries(building.cost)\n                      .map(([resource, amount]) => `${amount} ${resource}`)\n                      .join(\", \")}\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst RadialMenu = () => {\n  if (!showRadialMenu || !selectedLocation) return null;\n\n  const actions: RadialMenuAction[] = [\n    {\n      label: \"Scavenge\",\n      icon: <ResourcesIcon className=\"w-6 h-6\" />,\n      enabled: !selectedLocation.lastScavenged && selectedLocation.scavengeTime > 0,\n      action: () => scavengeLocation(selectedLocation),\n    },\n    {\n      label: \"Explore\",\n      icon: <ExploreIcon className=\"w-6 h-6\" />,\n      enabled: resources.materials >= EXPLORATION_COST.materials,\n      action: exploreNearby,\n      cost: EXPLORATION_COST,\n    },\n    {\n      label: \"Attack\",\n      icon: <AttackIcon className=\"w-6 h-6\" />,\n      enabled: selectedLocation.owner !== \"player\",\n      action: () => attackLocation(selectedLocation),\n    },\n    {\n      label: \"Buy Back\",\n      icon: <MaterialsIcon className=\"w-6 h-6\" />,\n      enabled: selectedLocation.owner === null && resources.materials >= 50,\n      action: () => buyBackLocation(selectedLocation),\n      cost: { materials: 50 },\n    },\n  ];\n\n  return (\n    <div\n      className=\"fixed z-50 bg-gray-900 border border-gray-700 rounded-xl p-4 shadow-2xl\"\n      style={{\n        left: radialMenuPosition.x,\n        top: radialMenuPosition.y,\n        transform: \"translate(-50%, -50%)\",\n      }}\n    >\n      <div className=\"flex flex-col gap-2\">\n        {actions.map((action) => (\n          <button\n            key={action.label}\n            onClick={action.action}\n            disabled={!action.enabled}\n            className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all duration-300 ${\n              action.enabled\n                ? \"bg-blue-600 hover:bg-blue-700 text-white\"\n                : \"bg-gray-700 text-gray-400 cursor-not-allowed\"\n            }`}\n          >\n            {action.icon}\n            <span>{action.label}</span>\n            {action.cost && (\n              <span className=\"text-xs\">\n                ({Object.entries(action.cost)\n                  .map(([resource, amount]) => `${amount} ${resource}`)\n                  .join(\", \")})\n              </span>\n            )}\n          </button>\n        ))}\n        <button\n          onClick={() => setShowRadialMenu(false)}\n          className=\"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold bg-gray-700 hover:bg-gray-600 text-white transition-all duration-300\"\n        >\n          <CancelIcon className=\"w-6 h-6\" />\n          <span>Close</span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst DisasterPopup = () => {\n  if (!showDisaster) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-gray-900 border border-red-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\">\n        <h3 className=\"text-2xl font-bold text-red-500 mb-4\">{showDisaster.name}</h3>\n        <p className=\"text-gray-200 mb-6\">{showDisaster.description}</p>\n        <button\n          onClick={() => setShowDisaster(null)}\n          className=\"px-6 py-3 rounded-lg text-lg font-bold bg-red-600 hover:bg-red-700 text-white transition-all duration-300\"\n        >\n          Acknowledge\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst ScavengePopup = () => {\n  if (!scavengeResult) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\">\n        <h3 className=\"text-2xl font-bold text-blue-500 mb-4\">Resources Found</h3>\n        <div className=\"space-y-2 mb-6\">\n          {Object.entries(scavengeResult).map(([resource, amount]) => (\n            amount > 0 && (\n              <p key={resource} className=\"text-gray-200\">\n                {amount} {resource}\n              </p>\n            )\n          ))}\n        </div>\n        <button\n          onClick={() => setScavengeResult(null)}\n          className=\"px-6 py-3 rounded-lg text-lg font-bold bg-blue-600 hover:bg-blue-700 text-white transition-all duration-300\"\n        >\n          Continue\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst AttackResultPopup = () => {\n  if (!showAttackResult) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\">\n        <h3 className=\"text-2xl font-bold text-blue-500 mb-4\">\n          {showAttackResult.success ? \"Attack Successful!\" : \"Attack Failed\"}\n        </h3>\n        <p className=\"text-gray-200 mb-6\">\n          {showAttackResult.success\n            ? `You've successfully taken over ${showAttackResult.locationName}!`\n            : `Failed to take over ${showAttackResult.locationName}.`}\n          {showAttackResult.resourcesGained && (\n            <div className=\"mt-2\">\n              Resources gained:{\" \"}\n              {Object.entries(showAttackResult.resourcesGained)\n                .map(([resource, amount]) => `${amount} ${resource}`)\n                .join(\", \")}\n            </div>\n          )}\n          {showAttackResult.survivorsLost && (\n            <div className=\"mt-2 text-red-500\">\n              Lost {showAttackResult.survivorsLost} survivor(s)\n            </div>\n          )}\n        </p>\n        <button\n          onClick={() => setShowAttackResult(null)}\n          className=\"px-6 py-3 rounded-lg text-lg font-bold bg-blue-600 hover:bg-blue-700 text-white transition-all duration-300\"\n        >\n          Continue\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst AIAttackPopup = () => {\n  if (!showAIAttack) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-gray-900 border border-red-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\">\n        <h3 className=\"text-2xl font-bold text-red-500 mb-4\">\n          {showAIAttack.success ? \"Location Lost!\" : \"Attack Repelled!\"}\n        </h3>\n        <p className=\"text-gray-200 mb-6\">\n          {showAIAttack.success\n            ? `Rival clan has taken over ${showAIAttack.locationName}!`\n            : `Successfully defended ${showAIAttack.locationName} from rival clan!`}\n          {showAIAttack.survivorsLost && (\n            <div className=\"mt-2 text-red-500\">\n              Lost {showAIAttack.survivorsLost} survivor(s)\n            </div>\n          )}\n        </p>\n        <button\n          onClick={() => setShowAIAttack(null)}\n          className=\"px-6 py-3 rounded-lg text-lg font-bold bg-red-600 hover:bg-red-700 text-white transition-all duration-300\"\n        >\n          Continue\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst ApocalypticGame: React.FC = () => {\n  // State\n  const [resources, setResources] = useState<Resources>(initialResources);\n  const [activeTab, setActiveTab] = useState<\"resources\" | \"map\">(\"resources\");\n  const [isMobile, setIsMobile] = useState(false);\n  const [showRadialMenu, setShowRadialMenu] = useState(false);\n  const [radialMenuPosition, setRadialMenuPosition] = useState({ x: 0, y: 0 });\n  const [selectedLocation, setSelectedLocation] = useState<MapLocation | null>(\n    null,\n  );\n  const [showDisaster, setShowDisaster] = useState<Disaster | null>(null);\n  const [autoScavengeEnabled, setAutoScavengeEnabled] = useState(true);\n  const [buildings, setBuildings] = useState<Building[]>([]);\n\n  const [scavengeResult, setScavengeResult] =\n    useState<Partial<Resources> | null>(null);\n  const [showAttackResult, setShowAttackResult] = useState<{ success: boolean; locationName: string; resourcesGained?: Partial<Resources>; survivorsLost?: number } | null>(null);\n  const [showAIAttack, setShowAIAttack] = useState<AIAttack | null>(null);\n  const [showAttackedAnimation, setShowAttackedAnimation] = useState<string | null>(null);\n  const [showHowToPlay, setShowHowToPlay] = useState(false);\n\n  const [waitingForScavengePopup, setWaitingForScavengePopup] = useState(false);\n\n  const gameLoopRef = useRef<ReturnType<typeof setInterval> | null>(null);\n  const autoSaveRef = useRef<ReturnType<typeof setInterval> | null>(null);\n\n  const [upgrades, setUpgrades] = useState<BaseUpgrade[]>([\n    {\n      id: \"farm\",\n      name: \"Makeshift Farm\",\n      description: \"Produces food over time\",\n      cost: { materials: 50 },\n      effect: \"+5 food/minute\",\n      level: 0,\n      maxLevel: 5,\n    },\n    {\n      id: \"well\",\n      name: \"Water Collector\",\n      description: \"Collects water from the atmosphere\",\n      cost: { materials: 40 },\n      effect: \"+3 water/minute\",\n      level: 0,\n      maxLevel: 5,\n    },\n    {\n      id: \"shelter\",\n      name: \"Survivor Shelter\",\n      description: \"Attracts new survivors\",\n      cost: { materials: 100, food: 50 },\n      effect: \"+1 survivor chance/hour\",\n      level: 0,\n      maxLevel: 3,\n    },\n  ]);\n\n  const GRID_SIZE = 5;\n\n  const locationNames = [\n    \"Dustfield\",\n    \"Ashrock\",\n    \"Ironpit\",\n    \"Deadwell\",\n    \"Cragpoint\",\n    \"Burnpass\",\n    \"Mudspire\",\n    \"Wretchend\",\n    \"Redhollow\",\n    \"Saltmoor\",\n    \"Scraptown\",\n    \"Charcliff\",\n    \"Dryreach\",\n    \"Ragbank\",\n    \"Blightden\",\n    \"Boneplain\",\n    \"Rustbarrow\",\n    \"Smokefall\",\n    \"Shivglen\",\n    \"Flintgorge\",\n    \"Gravefen\",\n    \"Scorchbay\",\n    \"Fogscar\",\n    \"Ruinstep\",\n    \"Crimsonlot\",\n  ];\n\n  const generateInitialGrid = (): MapLocation[] => {\n    const locations: MapLocation[] = [];\n\n    for (let y = 0; y < GRID_SIZE; y++) {\n      for (let x = 0; x < GRID_SIZE; x++) {\n        const isBase =\n          x === Math.floor(GRID_SIZE / 2) && y === Math.floor(GRID_SIZE / 2);\n\n        locations.push({\n          id: `cell-${x}-${y}`,\n          name: isBase\n            ? \"Your Base\"\n            : locationNames[y * GRID_SIZE + x] || `Sector-${x}-${y}`,\n          isBase: isBase,\n          x,\n          y,\n          discovered: isBase,\n          scavengeTime: isBase ? 0 : 5000 + Math.floor(Math.random() * 5000),\n          lastScavenged: null,\n          resources: isBase\n            ? {}\n            : Math.random() < 0.8\n            ? {\n                food: Math.floor(Math.random() * 50) + 10,\n                water: Math.floor(Math.random() * 30) + 5,\n                materials:\n                  Math.random() < 0.7 ? Math.floor(Math.random() * 60) + 10 : 0,\n                survivors: Math.random() < 0.3 ? 1 : 0,\n              }\n            : {},\n          owner: isBase ? \"player\" : null,\n        });\n      }\n    }\n\n    return locations;\n  };\n\n  const [locations, setLocations] = useState<MapLocation[]>(\n    generateInitialGrid(),\n  );\n\n  const availableBuildings: Building[] = [\n    { id: \"house-blueprint\", type: \"house\", name: \"House\", cost: { materials: 30, food: 10 }, level: 0, imageUrl: \"https://img.icons8.com/ios-filled/50/ffffff/home.png\" },\n  ];\n\n  const resourcesRef = useRef(resources);\n  const upgradesRef = useRef(upgrades);\n\n  useEffect(() => {\n    resourcesRef.current = resources;\n  }, [resources]);\n  useEffect(() => {\n    upgradesRef.current = upgrades;\n  }, [upgrades]);\n\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    checkMobile();\n    window.addEventListener(\"resize\", checkMobile);\n    return () => window.removeEventListener(\"resize\", checkMobile);\n  }, []);\n\n  useEffect(() => {\n    const savedGame = localStorage.getItem(SAVE_KEY);\n    if (savedGame) {\n      try {\n        const gameState: GameState = JSON.parse(savedGame);\n        const timePassed = Date.now() - gameState.lastSave;\n\n        const minutesPassed = timePassed / 60000;\n        const offlineResources = { ...gameState.resources };\n\n        gameState.upgrades.forEach((upgrade) => {\n          if (upgrade.id === \"farm\" && upgrade.level > 0) {\n            offlineResources.food += Math.floor(\n              minutesPassed * 5 * upgrade.level * 0.5,\n            );\n          }\n          if (upgrade.id === \"well\" && upgrade.level > 0) {\n            offlineResources.water += Math.floor(\n              minutesPassed * 3 * upgrade.level * 0.5,\n            );\n          }\n          if (upgrade.id === \"shelter\" && upgrade.level > 0) {\n            offlineResources.survivors += Math.floor(\n              minutesPassed * (1 / 60) * upgrade.level * 0.5,\n            );\n          }\n        });\n\n        setResources(offlineResources);\n        setUpgrades(gameState.upgrades);\n        setLocations(gameState.locations);\n        setAutoScavengeEnabled(gameState.autoScavengeEnabled);\n      } catch (e) {\n        console.error(\"Failed to load save:\", e);\n      }\n    }\n  }, []);\n\n  const saveGame = useCallback(() => {\n    const gameState: GameState = {\n      resources,\n      upgrades,\n      locations,\n      lastSave: Date.now(),\n      autoScavengeEnabled,\n    };\n    localStorage.setItem(SAVE_KEY, JSON.stringify(gameState));\n  }, [resources, upgrades, locations, autoScavengeEnabled]);\n\n  useEffect(() => {\n    autoSaveRef.current = setInterval(saveGame, AUTO_SAVE_INTERVAL);\n    return () => {\n      if (autoSaveRef.current) clearInterval(autoSaveRef.current);\n    };\n  }, [saveGame]);\n\n  function floorResources(res: Resources): Resources {\n    return {\n      food: Math.floor(res.food),\n      water: Math.floor(res.water),\n      materials: Math.floor(res.materials),\n      survivors: Math.floor(res.survivors),\n    };\n  }\n\n  function isEqualResources(a: Resources, b: Resources): boolean {\n    return (\n      a.food === b.food &&\n      a.water === b.water &&\n      a.materials === b.materials &&\n      a.survivors === b.survivors\n    );\n  }\n\n  useEffect(() => {\n    gameLoopRef.current = setInterval(() => {\n      setResources((prev) => {\n        const newResources = { ...prev };\n\n        upgrades.forEach((upgrade) => {\n          if (upgrade.id === \"farm\" && upgrade.level > 0) {\n            newResources.food += (5 * upgrade.level) / 60;\n          }\n          if (upgrade.id === \"well\" && upgrade.level > 0) {\n            newResources.water += (3 * upgrade.level) / 60;\n          }\n          if (upgrade.id === \"shelter\" && upgrade.level > 0) {\n            newResources.survivors += (1 * upgrade.level) / 3600;\n          }\n        });\n\n        const totalHousingCapacity = buildings.filter(b => b.type === \"house\").length * HOUSE_CAPACITY;\n        const unhousedSurvivors = newResources.survivors - totalHousingCapacity;\n        \n        if (unhousedSurvivors > 0 && Math.random() < UNHOUSED_SURVIVOR_DEATH_RATE * unhousedSurvivors) {\n          const lostSurvivors = Math.min(Math.ceil(unhousedSurvivors / 5), newResources.survivors);\n          newResources.survivors = Math.max(0, newResources.survivors - lostSurvivors);\n          setShowDisaster({\n            id: \"exposure\",\n            name: \"Exposure!\",\n            description: `Some of your unhoused survivors froze to death! Lost ${lostSurvivors} survivor(s).`,\n            effect: { survivors: -lostSurvivors },\n          });\n        }\n\n        newResources.food = Math.max(\n          0,\n          newResources.food - prev.survivors * 0.01,\n        );\n        newResources.water = Math.max(\n          0,\n          newResources.water - prev.survivors * 0.02,\n        );\n\n        const floored = floorResources(newResources);\n        if (!isEqualResources(floored, floorResources(prev))) {\n          return floored;\n        }\n        return prev;\n      });\n\n      if (Math.random() < DISASTER_CHANCE) {\n        const disaster =\n          disasters[Math.floor(Math.random() * disasters.length)];\n        setShowDisaster(disaster);\n        applyDisaster(disaster);\n      }\n\n      if (Math.random() < AI_ATTACK_CHANCE) {\n        triggerAIAttack();\n      }\n\n      if (autoScavengeEnabled) {\n        checkAutoScavenge();\n      }\n    }, 2000);\n\n    return () => {\n      if (gameLoopRef.current) clearInterval(gameLoopRef.current);\n    };\n  }, [upgrades, autoScavengeEnabled]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const now = Date.now();\n      if (waitingForScavengePopup || scavengeResult) return;\n\n      const finished = locations.find(\n        (loc) =>\n          loc.lastScavenged &&\n          loc.scavengeTime > 0 &&\n          now - loc.lastScavenged >= loc.scavengeTime,\n      );\n\n      if (finished) finalizeScavenge(finished);\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [locations, waitingForScavengePopup, scavengeResult]);\n\n  const applyDisaster = (disaster: Disaster) => {\n    setResources((prev) => ({\n      food: Math.max(0, prev.food + (disaster.effect.food || 0)),\n      water: Math.max(0, prev.water + (disaster.effect.water || 0)),\n      materials: Math.max(0, prev.materials + (disaster.effect.materials || 0)),\n      survivors: Math.max(1, prev.survivors + (disaster.effect.survivors || 0)),\n    }));\n  };\n\n  const checkAutoScavenge = () => {\n    if (waitingForScavengePopup) return;\n\n    const now = Date.now();\n\n    setLocations((prev) => {\n      let hasActiveScavenge = false;\n      let updated = false;\n\n      const newLocations = prev.map((loc) => {\n        if (loc.lastScavenged && loc.scavengeTime > 0) {\n          if (now - loc.lastScavenged >= loc.scavengeTime && !updated) {\n            const loot = {\n              food: loc.resources.food || 0,\n              water: loc.resources.water || 0,\n              materials: loc.resources.materials || 0,\n              survivors: loc.resources.survivors || 0,\n            };\n\n            finalizeScavenge(loc);\n            updated = true;\n            return loc;\n          }\n\n          hasActiveScavenge = true;\n          return loc;\n        }\n\n        return loc;\n      });\n\n      if (!hasActiveScavenge && !updated) {\n        const targetIndex = newLocations.findIndex(\n          (loc) =>\n            loc.discovered &&\n            !loc.lastScavenged &&\n            loc.scavengeTime > 0 &&\n            Object.values(loc.resources).some((v) => v && v > 0),\n        );\n\n        if (targetIndex !== -1) {\n          newLocations[targetIndex] = {\n            ...newLocations[targetIndex],\n            lastScavenged: now,\n          };\n          updated = true;\n        }\n      }\n\n      return newLocations;\n    });\n  };\n\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n\n  const addNotification = (message: string, type: 'success' | 'error' | 'info' = 'info') => {\n    const id = Date.now().toString();\n    setNotifications(prev => [...prev, { id, message, type, timestamp: Date.now() }]);\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== id));\n    }, 5000);\n  };\n\n  const finalizeScavenge = (location: MapLocation) => {\n    const loot = {\n      food: location.resources.food || 0,\n      water: location.resources.water || 0,\n      materials: location.resources.materials || 0,\n      survivors: location.resources.survivors || 0,\n    };\n\n    const resourceMessages = Object.entries(loot)\n      .filter(([_, value]) => value > 0)\n      .map(([resource, value]) => `${value} ${resource}`)\n      .join(', ');\n    \n    if (resourceMessages) {\n      addNotification(`Found resources: ${resourceMessages}`, 'success');\n    }\n\n    setResources((prevResources) => ({\n      food: prevResources.food + loot.food,\n      water: prevResources.water + loot.water,\n      materials: prevResources.materials + loot.materials,\n      survivors: prevResources.survivors + loot.survivors,\n    }));\n\n    setLocations((prev) =>\n      prev.map((loc) =>\n        loc.id === location.id\n          ? { ...loc, lastScavenged: null, resources: {}, wasScavenged: true }\n          : loc,\n      ),\n    );\n  };\n\n  const handleMapClick = (\n    e: React.MouseEvent<HTMLDivElement>,\n    location: MapLocation,\n  ) => {\n    e.stopPropagation();\n    if (!location.discovered && location.id !== \"base\") return;\n\n    setSelectedLocation(location);\n    setRadialMenuPosition({ x: e.clientX, y: e.clientY });\n    setShowRadialMenu(true);\n  };\n\n  const scavengeLocation = (location: MapLocation) => {\n    if (location.lastScavenged || location.scavengeTime === 0) return;\n\n    setLocations((prev) =>\n      prev.map((loc) =>\n        loc.id === location.id ? { ...loc, lastScavenged: Date.now() } : loc,\n      ),\n    );\n    setShowRadialMenu(false);\n  };\n\n  const exploreNearby = () => {\n    if (!selectedLocation) return;\n\n    const cost = EXPLORATION_COST;\n    const canAfford = Object.entries(cost).every(\n      ([resource, amount]) => resources[resource as keyof Resources] >= (amount || 0)\n    );\n\n    if (!canAfford) {\n      setShowAttackResult({\n        success: false,\n        locationName: \"Exploration\",\n        survivorsLost: 0,\n      });\n      setShowRadialMenu(false);\n      return;\n    }\n\n    setResources(prev => {\n      const newResources = { ...prev };\n      Object.entries(cost).forEach(([resource, amount]) => {\n        newResources[resource as keyof Resources] -= amount || 0;\n      });\n      return newResources;\n    });\n\n    const getGridCoords = (id: string) => {\n      const match = id.match(/cell-(\\d+)-(\\d+)/);\n      if (!match) return null;\n      return { x: parseInt(match[1]), y: parseInt(match[2]) };\n    };\n\n    const selectedCoords = getGridCoords(selectedLocation.id);\n    if (!selectedCoords) return;\n\n    setLocations((prev) =>\n      prev.map((loc) => {\n        const coords = getGridCoords(loc.id);\n        if (!coords || loc.discovered) return loc;\n\n        const dx = Math.abs(coords.x - selectedCoords.x);\n        const dy = Math.abs(coords.y - selectedCoords.y);\n\n        if (dx <= 1 && dy <= 1) {\n          return { ...loc, discovered: true };\n        }\n\n        return loc;\n      }),\n    );\n\n    setShowRadialMenu(false);\n  };\n\n  const purchaseUpgrade = (upgrade: BaseUpgrade) => {\n    if (upgrade.level >= upgrade.maxLevel) return;\n\n    const canAfford = Object.entries(upgrade.cost).every(\n      ([resource, cost]) =>\n        resources[resource as keyof Resources] >= (cost || 0),\n    );\n\n    if (canAfford) {\n      setResources((prev) => {\n        const newResources = { ...prev };\n        Object.entries(upgrade.cost).forEach(([resource, cost]) => {\n          newResources[resource as keyof Resources] -= cost || 0;\n        });\n        return newResources;\n      });\n\n      setUpgrades((prev) =>\n        prev.map((u) =>\n          u.id === upgrade.id\n            ? {\n                ...u,\n                level: u.level + 1,\n                cost: Object.fromEntries(\n                  Object.entries(u.cost).map(([r, c]) => [\n                    r,\n                    Math.floor((c || 0) * 1.5),\n                  ]),\n                ),\n              }\n            : u,\n        ),\n      );\n    }\n  };\n\n  const getScavengeProgress = (location: MapLocation) => {\n    if (!location.lastScavenged || location.scavengeTime === 0) return 0;\n    const elapsed = Date.now() - location.lastScavenged;\n    return Math.min(100, (elapsed / location.scavengeTime) * 100);\n  };\n\n  const attackLocation = (location: MapLocation) => {\n    const success = Math.random() < 0.7;\n\n    if (success) {\n      const materialsGained = 20 + Math.floor(Math.random() * 30);\n      setResources((prev) => ({\n        ...prev,\n        materials: prev.materials + materialsGained,\n      }));\n      setLocations((prev) =>\n        prev.map((loc) =>\n          loc.id === location.id ? { ...loc, owner: \"player\" } : loc,\n        ),\n      );\n      setShowAttackResult({\n        success: true,\n        locationName: location.name,\n        resourcesGained: { materials: materialsGained },\n      });\n      setShowAttackedAnimation(location.id);\n    } else {\n      const survivorsLost = 1;\n      setResources((prev) => ({\n        ...prev,\n        survivors: Math.max(0, prev.survivors - survivorsLost),\n      }));\n      setShowAttackResult({\n        success: false,\n        locationName: location.name,\n        survivorsLost: survivorsLost,\n      });\n    }\n    setShowRadialMenu(false);\n  };\n\n  const buyBackLocation = (location: MapLocation) => {\n    const cost = { materials: 50 };\n\n    const canAfford = Object.entries(cost).every(\n      ([resource, amount]) => resources[resource as keyof Resources] >= (amount || 0)\n    );\n\n    if (canAfford) {\n      setResources(prev => {\n        const newResources = { ...prev };\n        Object.entries(cost).forEach(([resource, amount]) => {\n          newResources[resource as keyof Resources] -= amount || 0;\n        });\n        return newResources;\n      });\n\n      setLocations(prev =>\n        prev.map(loc =>\n          loc.id === location.id ? { ...loc, owner: \"player\" } : loc\n        )\n      );\n      setShowAttackedAnimation(location.id);\n      setShowRadialMenu(false);\n    } else {\n      console.log(\"Cannot afford to buy back this location.\");\n    }\n  };\n\n  const [isFirstTimeUser, setIsFirstTimeUser] = useState(() => {\n    const savedGame = localStorage.getItem(SAVE_KEY);\n    return !savedGame;\n  });\n  \n  const [isGameOver, setIsGameOver] = useState(false);\n  \n  const startNewGame = () => {\n    setResources(initialResources);\n    setUpgrades(upgrades.map(upgrade => ({ ...upgrade, level: 0 })));\n    setLocations(generateInitialGrid());\n    setBuildings([]);\n    setIsGameOver(false);\n    setIsFirstTimeUser(false);\n    setShowDisaster(null);\n    setShowAttackResult(null);\n    setShowAIAttack(null);\n    setScavengeResult(null);\n    setWaitingForScavengePopup(false);\n    setShowAttackedAnimation(null);\n    setSelectedLocation(null);\n    setShowRadialMenu(false);\n    localStorage.removeItem(SAVE_KEY);\n  };\n\n  useEffect(() => {\n    if (showAttackedAnimation) {\n      const timer = setTimeout(() => {\n        setShowAttackedAnimation(null);\n      }, 1500);\n      return () => clearTimeout(timer);\n    }\n  }, [showAttackedAnimation]);\n\n  const GameOver = () => {\n    if (!isGameOver) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\">\n        <div className=\"relative bg-gray-900 border border-red-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\">\n          <h3 className=\"text-4xl font-bold text-red-500 mb-6 drop-shadow-md\">\n            Game Over\n          </h3>\n          <p className=\"text-gray-200 text-lg mb-8\">\n            All your survivors have perished. The wasteland has claimed another settlement.\n          </p>\n          <div className=\"space-y-4\">\n            <button\n              onClick={startNewGame}\n              className=\"w-full px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-green-600 to-green-800 hover:from-green-700 hover:to-green-900 text-white\"\n            >\n              Start New Game\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const NewGame = () => {\n    if (!isFirstTimeUser) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\">\n        <div className=\"relative bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\">\n          <h3 className=\"text-4xl font-bold text-blue-500 mb-6 drop-shadow-md\">\n            Welcome to Wasteland Survivor\n          </h3>\n          <p className=\"text-gray-200 text-lg mb-8\">\n            Lead your survivors through the post-apocalyptic wasteland. Gather resources, expand your territory, and survive against all odds.\n          </p>\n          <div className=\"space-y-4\">\n            <button\n              onClick={startNewGame}\n              className=\"w-full px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white\"\n            >\n              Start New Game\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const Notifications = () => (\n    <div className=\"fixed top-4 right-4 z-50 space-y-2\">\n      {notifications.map((notification) => (\n        <div\n          key={notification.id}\n          className={`px-4 py-2 rounded-lg shadow-lg transform transition-all duration-300 ${\n            notification.type === 'success'\n              ? 'bg-green-600'\n              : notification.type === 'error'\n              ? 'bg-red-600'\n              : 'bg-blue-600'\n          }`}\n        >\n          <p className=\"text-white font-medium\">{notification.message}</p>\n        </div>\n      ))}\n    </div>\n  );\n\n  useEffect(() => {\n    if (resources.survivors <= 0 && !isGameOver) {\n      setIsGameOver(true);\n    }\n  }, [resources.survivors, isGameOver]);\n\n  const triggerAIAttack = () => {\n    const playerOwnedLocations = locations.filter(\n      (loc) => loc.owner === \"player\" && !loc.isBase\n    );\n\n    if (playerOwnedLocations.length > 0) {\n      const targetLocation =\n        playerOwnedLocations[Math.floor(Math.random() * playerOwnedLocations.length)];\n      const success = Math.random() < 0.75;\n\n      setShowAttackedAnimation(targetLocation.id);\n\n      if (success) {\n        setLocations((prev) =>\n          prev.map((loc) =>\n            loc.id === targetLocation.id ? { ...loc, owner: null } : loc\n          )\n        );\n        setResources((prev) => ({\n          ...prev,\n          survivors: Math.max(0, prev.survivors - 1),\n        }));\n        setShowAIAttack({\n          locationId: targetLocation.id,\n          locationName: targetLocation.name,\n          success: true,\n          survivorsLost: 1,\n        });\n      } else {\n        setShowAIAttack({\n          locationId: targetLocation.id,\n          locationName: targetLocation.name,\n          success: false,\n        });\n      }\n    }\n  };\n\n  const HowToPlay = () => {\n    if (!showHowToPlay) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\">\n        <div className=\"relative bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-2xl shadow-2xl text-center animate-fade-in\">\n          <h3 className=\"text-4xl font-bold text-blue-500 mb-6 drop-shadow-md font-display\">\n            How to Play\n          </h3>\n          <div className=\"text-gray-200 text-lg space-y-4 text-left\">\n            <p>\n              Welcome to Wasteland Survivor! Your goal is to lead your group of survivors through a post-apocalyptic world. Here's how to play:\n            </p>\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Resources:</h4>\n            <p>Gather Food, Water, Materials, and manage your Survivors. These are essential for survival and progress.</p>\n\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Map & Exploration:</h4>\n            <p>Click on map locations to open a radial menu. You can Scavenge locations for resources, Attack rival locations to take them over, or Explore nearby to discover new areas. Exploring costs materials.</p>\n\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Buildings:</h4>\n            <p>From the Resources panel, you can drag and drop buildings like Houses onto available map squares. Houses provide shelter for your survivors; without enough housing, survivors will freeze and die!</p>\n\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Upgrades:</h4>\n            <p>Invest in base upgrades to increase your resource production and survivor attraction.</p>\n\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Threats:</h4>\n            <p>Beware of random Disasters and Rival Clan attacks. These events can deplete your resources and survivors, so be prepared!</p>\n\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Game Over:</h4>\n            <p>The game ends if all your survivors are lost. You can always start a new game to try again!</p>\n          </div>\n          <button\n            onClick={() => setShowHowToPlay(false)}\n            className=\"w-full mt-8 px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white\"\n          >\n            Got It!\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  const MapView = ({\n    buildings,\n    availableBuildings,\n    setBuildings,\n    setResources,\n    locations,\n    showAttackedAnimation,\n  }: {\n    buildings: Building[];\n    availableBuildings: Building[];\n    setBuildings: React.Dispatch<React.SetStateAction<Building[]>>;\n    setResources: React.Dispatch<React.SetStateAction<Resources>>;\n    locations: MapLocation[];\n    showAttackedAnimation: string | null;\n  }) => {\n    const handleDragOver = (e: React.DragEvent) => {\n      e.preventDefault();\n    };\n\n    const handleDrop = (e: React.DragEvent, locationId: string) => {\n      e.preventDefault();\n      const buildingId = e.dataTransfer.getData(\"buildingId\");\n      const buildingBlueprint = availableBuildings.find((b) => b.id === buildingId);\n      const targetLocation = locations.find((loc) => loc.id === locationId);\n\n      if (!buildingBlueprint || !targetLocation) return;\n\n      const isLocationOccupied = buildings.some(b => b.locationId === locationId);\n      if (!targetLocation.discovered || targetLocation.owner !== \"player\" || targetLocation.isBase || isLocationOccupied) {\n        return;\n      }\n\n      const canAfford = Object.entries(buildingBlueprint.cost).every(\n        ([resource, cost]) => resources[resource as keyof Resources] >= (cost || 0)\n      );\n\n      if (!canAfford) {\n        return;\n      }\n\n      setResources(prev => {\n        const newResources = { ...prev };\n        Object.entries(buildingBlueprint.cost).forEach(([resource, cost]) => {\n          newResources[resource as keyof Resources] -= cost || 0;\n        });\n        return newResources;\n      });\n\n      const newBuilding: Building = {\n        ...buildingBlueprint,\n        id: `${buildingBlueprint.type}-${Date.now()}`,\n        locationId: locationId,\n      };\n      setBuildings(prev => [...prev, newBuilding]);\n    };\n\n    return (\n      <div className=\"relative bg-gray-900 border border-gray-700 rounded-xl p-4 sm:p-8 shadow-2xl h-full flex flex-col overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-br before:from-gray-800 before:via-gray-900 before:to-black before:opacity-50 before:rounded-xl\">\n        <h2 className=\"relative z-10 text-2xl sm:text-4xl font-black text-white mb-4 sm:mb-8 text-center drop-shadow-md\">\n          Wasteland Map\n        </h2>\n        <div\n          className=\"relative z-10 grid bg-gray-950 border border-gray-700 rounded-lg aspect-square shadow-inner overflow-hidden\"\n          style={{\n            gridTemplateColumns: `repeat(${GRID_SIZE}, 1fr)`,\n            gridTemplateRows: `repeat(${GRID_SIZE}, 1fr)`,\n          }}\n          onClick={() => setShowRadialMenu(false)}\n        >\n          {locations.map((location) => {\n            const isAnimatingTakeover = showAttackedAnimation === location.id;\n            const placedBuilding = buildings.find(b => b.locationId === location.id);\n\n            return (\n              <div\n                key={location.id}\n                className={`relative flex items-center justify-center p-0.5 sm:p-1 transition-all duration-300 group ${location.discovered ? \"cursor-pointer\" : \"opacity-30\"} ${isAnimatingTakeover ? 'animate-pulse' : ''} ${location.id === showAttackedAnimation ? 'border-2 sm:border-4 border-red-500 animate-pulse-fast' : ''}`}\n                onClick={(e) => handleMapClick(e, location)}\n                onDragOver={handleDragOver}\n                onDrop={(e) => handleDrop(e, location.id)}\n              >\n                {location.discovered ? (\n                  <div className=\"relative w-full h-full flex flex-col items-center justify-center text-center rounded-md overflow-hidden shadow-md group-hover:shadow-lg transition-shadow duration-300 border border-transparent group-hover:border-blue-500\">\n                    <div\n                      className={`w-full h-full flex items-center justify-center text-2xl sm:text-4xl transform transition-all duration-300 group-hover:scale-105 ${location.isBase || location.owner === \"player\" ? \"bg-green-700\" : \"bg-blue-700\"}`}\n                    >\n                      {placedBuilding ? (\n                        placedBuilding.imageUrl ? (\n                          <img src={placedBuilding.imageUrl} alt={placedBuilding.name} className=\"w-8 h-8 sm:w-10 sm:h-10 object-contain mx-auto\" />\n                        ) : (\n                          <BaseIcon className=\"w-8 h-8 sm:w-10 sm:h-10\" />\n                        )\n                      ) : (\n                        location.isBase ? (\n                          <BaseIcon className=\"w-8 h-8 sm:w-10 sm:h-10\" />\n                        ) : location.owner === \"player\" ? (\n                          <ResourcesIcon className=\"w-8 h-8 sm:w-10 sm:h-10\" />\n                        ) : location.resources && Object.values(location.resources).some(val => val && val > 0) ? (\n                          <ResourcesIcon className=\"w-8 h-8 sm:w-10 sm:h-10\" />\n                        ) : null\n                      )}\n                    </div>\n                    <div className=\"absolute bottom-0 left-0 right-0 bg-gray-800 bg-opacity-80 p-0.5 text-center backdrop-blur-sm group-hover:bg-opacity-90 transition-opacity\">\n                      <p className=\"text-[8px] sm:text-xs font-medium text-gray-200 truncate\">\n                        {location.name}\n                      </p>\n                    </div>\n                    {location.lastScavenged && location.scavengeTime > 0 && (\n                      <div className=\"absolute top-0 left-0 right-0 h-0.5 sm:h-1 bg-gray-700 rounded-t\">\n                        <div\n                          className=\"h-full bg-yellow-500 rounded-t transition-all duration-1000\"\n                          style={{ width: `${getScavengeProgress(location)}%` }}\n                        />\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"w-full h-full rounded-md bg-gray-800 flex items-center justify-center text-2xl sm:text-4xl opacity-50 animate-pulse border border-gray-700\"></div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-950 text-white font-outfit antialiased relative overflow-hidden\">\n      <Notifications />\n      \n      <div \n        className=\"fixed inset-0 z-0 opacity-10 pointer-events-none\" \n        style={{ \n          backgroundImage: `url('https://www.transparenttextures.com/patterns/dust-and-stones.png')`, \n          backgroundSize: 'cover',\n          backgroundAttachment: 'fixed'\n        }}\n      ></div>\n      \n      {!isGameOver && (\n        <>\n          {isMobile ? (\n            <div className=\"relative z-10 px-2 py-4 h-screen flex flex-col bg-gray-950 bg-opacity-95 pointer-events-auto\">\n              <h1 className=\"text-3xl font-black text-center mb-4 text-white drop-shadow-lg leading-tight tracking-tight\">\n                Wasteland\n                <br />\n                Survivor\n              </h1>\n              <div className=\"flex mb-4 bg-gray-800 rounded-lg p-1 shadow-inner border border-gray-700\">\n                <button\n                  onClick={() => setActiveTab(\"resources\")}\n                  className={`flex-1 py-2 px-3 rounded-md text-base font-bold transition-all duration-300 ${\n                    activeTab === \"resources\"\n                      ? \"bg-gradient-to-r from-blue-600 to-blue-800 text-white\" : \"text-gray-400 hover:text-white hover:bg-gray-700\"\n                  }`}\n                >\n                  Resources\n                </button>\n                <button\n                  onClick={() => setActiveTab(\"map\")}\n                  className={`flex-1 py-2 px-3 rounded-md text-base font-bold transition-all duration-300 ${\n                    activeTab === \"map\"\n                      ? \"bg-gradient-to-r from-blue-600 to-blue-800 text-white\" : \"text-gray-400 hover:text-white hover:bg-gray-700\"\n                  }`}\n                >\n                  Map\n                </button>\n              </div>\n              {activeTab === \"resources\" ? (\n                <ResourcePanel\n                  resources={resources}\n                  upgrades={upgrades}\n                  autoScavengeEnabled={autoScavengeEnabled}\n                  purchaseUpgrade={purchaseUpgrade}\n                  setAutoScavengeEnabled={setAutoScavengeEnabled}\n                  availableBuildings={availableBuildings}\n                />\n              ) : (\n                <div className=\"flex-1 overflow-hidden\">\n                  <MapView\n                    buildings={buildings}\n                    availableBuildings={availableBuildings}\n                    setBuildings={setBuildings}\n                    setResources={setResources}\n                    locations={locations}\n                    showAttackedAnimation={showAttackedAnimation}\n                  />\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"relative z-10 flex h-screen p-8 gap-8 bg-gray-950 bg-opacity-95\">\n              <div className=\"w-1/2 flex flex-col\">\n                <h1 className=\"text-5xl font-black mb-8 text-white drop-shadow-lg leading-tight text-center tracking-tight\">\n                  Wasteland\n                  <br />\n                  Survivor\n                </h1>\n                <ResourcePanel\n                  resources={resources}\n                  upgrades={upgrades}\n                  autoScavengeEnabled={autoScavengeEnabled}\n                  purchaseUpgrade={purchaseUpgrade}\n                  setAutoScavengeEnabled={setAutoScavengeEnabled}\n                  availableBuildings={availableBuildings}\n                />\n              </div>\n              <div className=\"w-1/2 flex flex-col h-full\">\n                <MapView\n                  buildings={buildings}\n                  availableBuildings={availableBuildings}\n                  setBuildings={setBuildings}\n                  setResources={setResources}\n                  locations={locations}\n                  showAttackedAnimation={showAttackedAnimation}\n                />\n              </div>\n            </div>\n          )}\n        </>\n      )}\n\n      {!isGameOver && !isFirstTimeUser && (\n        <button\n          onClick={() => setShowHowToPlay(true)}\n          className=\"fixed bottom-4 right-4 px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-purple-600 to-purple-800 hover:from-purple-700 hover:to-purple-900 text-white z-40\"\n        >\n          How to Play\n        </button>\n      )}\n\n      {(showRadialMenu || showDisaster || scavengeResult || showAttackResult || showAIAttack || isGameOver || isFirstTimeUser || showHowToPlay) && (\n        <div \n          className=\"fixed inset-0 z-50 bg-black bg-opacity-70 flex items-center justify-center pointer-events-auto\" \n          onClick={(e) => { \n            if (e.target === e.currentTarget) {\n              setShowRadialMenu(false);\n              setShowDisaster(null);\n              setScavengeResult(null);\n              setShowAttackResult(null);\n              setShowAIAttack(null);\n              setShowHowToPlay(false);\n            }\n          }}\n        >\n          <RadialMenu />\n          <DisasterPopup />\n          <ScavengePopup />\n          <AttackResultPopup />\n          <AIAttackPopup />\n          <GameOver />\n          <NewGame />\n          <HowToPlay />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ApocalypticGame;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}