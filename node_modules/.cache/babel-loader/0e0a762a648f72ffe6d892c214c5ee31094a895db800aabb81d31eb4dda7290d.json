{"ast":null,"code":"var _jsxFileName = \"/Users/faybennett/outlierTasks/game-app/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { ResourcePanel } from './components/ResourcePanel';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Constants\nconst SAVE_KEY = \"apocalypse-idle-save\";\nconst AUTO_SAVE_INTERVAL = 10000;\nconst DISASTER_CHANCE = 0.002;\nconst AI_ATTACK_CHANCE = 0.02;\nconst HOUSE_CAPACITY = 2;\nconst UNHOUSED_SURVIVOR_DEATH_RATE = 0.01;\nconst EXPLORATION_COST = {\n  materials: 20\n};\n\n// Initial state\nconst initialResources = {\n  food: 100,\n  water: 100,\n  materials: 50,\n  survivors: 5\n};\nconst initialUpgrades = [{\n  id: 'food_production',\n  name: 'Food Production',\n  description: 'Increases food production rate',\n  level: 1,\n  maxLevel: 5,\n  cost: {\n    materials: 50\n  },\n  effect: level => ({\n    food: level * 0.2\n  })\n}, {\n  id: 'water_production',\n  name: 'Water Production',\n  description: 'Increases water production rate',\n  level: 1,\n  maxLevel: 5,\n  cost: {\n    materials: 50\n  },\n  effect: level => ({\n    water: level * 0.2\n  })\n}, {\n  id: 'material_production',\n  name: 'Material Production',\n  description: 'Increases material production rate',\n  level: 1,\n  maxLevel: 5,\n  cost: {\n    materials: 50\n  },\n  effect: level => ({\n    materials: level * 0.2\n  })\n}];\nconst disasters = [{\n  id: 'food_shortage',\n  name: 'Food Shortage',\n  description: 'A severe food shortage has occurred!',\n  effect: resources => ({\n    food: -resources.food * 0.2\n  }),\n  probability: 0.1\n}, {\n  id: 'water_contamination',\n  name: 'Water Contamination',\n  description: 'The water supply has been contaminated!',\n  effect: resources => ({\n    water: -resources.water * 0.2\n  }),\n  probability: 0.1\n}, {\n  id: 'survivor_loss',\n  name: 'Survivor Loss',\n  description: 'Some survivors have perished!',\n  effect: resources => ({\n    survivors: -Math.floor(resources.survivors * 0.1)\n  }),\n  probability: 0.05\n}];\nconst availableBuildings = [{\n  id: 'house',\n  name: 'House',\n  description: 'Provides shelter for survivors',\n  cost: {\n    materials: 30,\n    food: 10\n  },\n  production: {\n    survivors: 0.1\n  },\n  type: 'house',\n  level: 0,\n  imageUrl: 'https://img.icons8.com/ios-filled/50/ffffff/home.png'\n}, {\n  id: 'water_collector',\n  name: 'Water Collector',\n  description: 'Collects water from the atmosphere',\n  cost: {\n    materials: 40\n  },\n  production: {\n    water: 0.3\n  },\n  type: 'water_collector',\n  level: 0\n}];\nconst ApocalypticGame = () => {\n  _s();\n  // State\n  const [resources, setResources] = useState(initialResources);\n  const [upgrades, setUpgrades] = useState(initialUpgrades);\n  const [activeTab, setActiveTab] = useState(\"resources\");\n  const [isMobile, setIsMobile] = useState(false);\n  const [showRadialMenu, setShowRadialMenu] = useState(false);\n  const [radialMenuPosition, setRadialMenuPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [selectedLocation, setSelectedLocation] = useState(null);\n  const [showDisaster, setShowDisaster] = useState(null);\n  const [autoScavengeEnabled, setAutoScavengeEnabled] = useState(true);\n  const [buildings, setBuildings] = useState([]);\n  const [scavengeResult, setScavengeResult] = useState(null);\n  const [showAttackResult, setShowAttackResult] = useState(null);\n  const [showAIAttack, setShowAIAttack] = useState(null);\n  const [showAttackedAnimation, setShowAttackedAnimation] = useState(null);\n  const [showHowToPlay, setShowHowToPlay] = useState(false);\n  const [waitingForScavengePopup, setWaitingForScavengePopup] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const [isFirstTimeUser, setIsFirstTimeUser] = useState(() => {\n    const savedGame = localStorage.getItem(SAVE_KEY);\n    return !savedGame;\n  });\n  const [isGameOver, setIsGameOver] = useState(false);\n  const gameLoopRef = useRef(null);\n  const autoSaveRef = useRef(null);\n  const GRID_SIZE = 5;\n  const locationNames = [\"Dustfield\", \"Ashrock\", \"Ironpit\", \"Deadwell\", \"Cragpoint\", \"Burnpass\", \"Mudspire\", \"Wretchend\", \"Redhollow\", \"Saltmoor\", \"Scraptown\", \"Charcliff\", \"Dryreach\", \"Ragbank\", \"Blightden\", \"Boneplain\", \"Rustbarrow\", \"Smokefall\", \"Shivglen\", \"Flintgorge\", \"Gravefen\", \"Scorchbay\", \"Fogscar\", \"Ruinstep\", \"Crimsonlot\"];\n  const generateInitialGrid = () => {\n    const locations = [];\n    for (let y = 0; y < GRID_SIZE; y++) {\n      for (let x = 0; x < GRID_SIZE; x++) {\n        const isBase = x === Math.floor(GRID_SIZE / 2) && y === Math.floor(GRID_SIZE / 2);\n        locations.push({\n          id: `cell-${x}-${y}`,\n          name: isBase ? \"Your Base\" : locationNames[y * GRID_SIZE + x] || `Sector-${x}-${y}`,\n          isBase: isBase,\n          x,\n          y,\n          discovered: isBase,\n          scavengeTime: isBase ? 0 : 5000 + Math.floor(Math.random() * 5000),\n          lastScavenged: null,\n          resources: isBase ? {} : Math.random() < 0.8 ? {\n            food: Math.floor(Math.random() * 50) + 10,\n            water: Math.floor(Math.random() * 30) + 5,\n            materials: Math.random() < 0.7 ? Math.floor(Math.random() * 60) + 10 : 0,\n            survivors: Math.random() < 0.3 ? 1 : 0\n          } : {},\n          owner: isBase ? \"player\" : null\n        });\n      }\n    }\n    return locations;\n  };\n  const [locations, setLocations] = useState(generateInitialGrid());\n  const resourcesRef = useRef(resources);\n  const upgradesRef = useRef(upgrades);\n  useEffect(() => {\n    resourcesRef.current = resources;\n  }, [resources]);\n  useEffect(() => {\n    upgradesRef.current = upgrades;\n  }, [upgrades]);\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    checkMobile();\n    window.addEventListener(\"resize\", checkMobile);\n    return () => window.removeEventListener(\"resize\", checkMobile);\n  }, []);\n  useEffect(() => {\n    const savedGame = localStorage.getItem(SAVE_KEY);\n    if (savedGame) {\n      try {\n        const gameState = JSON.parse(savedGame);\n        const timePassed = Date.now() - gameState.lastSave;\n        const minutesPassed = timePassed / 60000;\n        const offlineResources = {\n          ...gameState.resources\n        };\n        gameState.upgrades.forEach(upgrade => {\n          if (upgrade.id === \"farm\" && upgrade.level > 0) {\n            offlineResources.food += Math.floor(minutesPassed * 5 * upgrade.level * 0.5);\n          }\n          if (upgrade.id === \"well\" && upgrade.level > 0) {\n            offlineResources.water += Math.floor(minutesPassed * 3 * upgrade.level * 0.5);\n          }\n          if (upgrade.id === \"shelter\" && upgrade.level > 0) {\n            offlineResources.survivors += Math.floor(minutesPassed * (1 / 60) * upgrade.level * 0.5);\n          }\n        });\n        setResources(offlineResources);\n        setUpgrades(gameState.upgrades);\n        setLocations(gameState.locations);\n        setAutoScavengeEnabled(gameState.autoScavengeEnabled);\n      } catch (e) {\n        console.error(\"Failed to load save:\", e);\n      }\n    }\n  }, []);\n  const saveGame = useCallback(() => {\n    const gameState = {\n      resources,\n      upgrades,\n      locations,\n      lastSave: Date.now(),\n      autoScavengeEnabled\n    };\n    localStorage.setItem(SAVE_KEY, JSON.stringify(gameState));\n  }, [resources, upgrades, locations, autoScavengeEnabled]);\n  useEffect(() => {\n    autoSaveRef.current = setInterval(saveGame, AUTO_SAVE_INTERVAL);\n    return () => {\n      if (autoSaveRef.current) clearInterval(autoSaveRef.current);\n    };\n  }, [saveGame]);\n  function floorResources(res) {\n    return {\n      food: Math.floor(res.food),\n      water: Math.floor(res.water),\n      materials: Math.floor(res.materials),\n      survivors: Math.floor(res.survivors)\n    };\n  }\n  function isEqualResources(a, b) {\n    return a.food === b.food && a.water === b.water && a.materials === b.materials && a.survivors === b.survivors;\n  }\n  useEffect(() => {\n    gameLoopRef.current = setInterval(() => {\n      setResources(prev => {\n        const newResources = {\n          ...prev\n        };\n        upgrades.forEach(upgrade => {\n          if (upgrade.id === \"farm\" && upgrade.level > 0) {\n            newResources.food += 5 * upgrade.level / 60;\n          }\n          if (upgrade.id === \"well\" && upgrade.level > 0) {\n            newResources.water += 3 * upgrade.level / 60;\n          }\n          if (upgrade.id === \"shelter\" && upgrade.level > 0) {\n            newResources.survivors += 1 * upgrade.level / 3600;\n          }\n        });\n        const totalHousingCapacity = buildings.filter(b => b.type === \"house\").length * HOUSE_CAPACITY;\n        const unhousedSurvivors = newResources.survivors - totalHousingCapacity;\n        if (unhousedSurvivors > 0 && Math.random() < UNHOUSED_SURVIVOR_DEATH_RATE * unhousedSurvivors) {\n          const lostSurvivors = Math.min(Math.ceil(unhousedSurvivors / 5), newResources.survivors);\n          newResources.survivors = Math.max(0, newResources.survivors - lostSurvivors);\n          setShowDisaster({\n            id: \"exposure\",\n            name: \"Exposure!\",\n            description: `Some of your unhoused survivors froze to death! Lost ${lostSurvivors} survivor(s).`,\n            effect: {\n              survivors: -lostSurvivors\n            }\n          });\n        }\n        newResources.food = Math.max(0, newResources.food - prev.survivors * 0.01);\n        newResources.water = Math.max(0, newResources.water - prev.survivors * 0.02);\n        const floored = floorResources(newResources);\n        if (!isEqualResources(floored, floorResources(prev))) {\n          return floored;\n        }\n        return prev;\n      });\n      if (Math.random() < DISASTER_CHANCE) {\n        const disaster = disasters[Math.floor(Math.random() * disasters.length)];\n        setShowDisaster(disaster);\n        applyDisaster(disaster);\n      }\n      if (Math.random() < AI_ATTACK_CHANCE) {\n        triggerAIAttack();\n      }\n      if (autoScavengeEnabled) {\n        checkAutoScavenge();\n      }\n    }, 2000);\n    return () => {\n      if (gameLoopRef.current) clearInterval(gameLoopRef.current);\n    };\n  }, [upgrades, autoScavengeEnabled]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const now = Date.now();\n      if (waitingForScavengePopup || scavengeResult) return;\n      const finished = locations.find(loc => loc.lastScavenged && loc.scavengeTime > 0 && now - loc.lastScavenged >= loc.scavengeTime);\n      if (finished) finalizeScavenge(finished);\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [locations, waitingForScavengePopup, scavengeResult]);\n  const applyDisaster = disaster => {\n    setResources(prev => ({\n      food: Math.max(0, prev.food + (disaster.effect.food || 0)),\n      water: Math.max(0, prev.water + (disaster.effect.water || 0)),\n      materials: Math.max(0, prev.materials + (disaster.effect.materials || 0)),\n      survivors: Math.max(1, prev.survivors + (disaster.effect.survivors || 0))\n    }));\n  };\n  const checkAutoScavenge = () => {\n    if (waitingForScavengePopup) return;\n    const now = Date.now();\n    setLocations(prev => {\n      let hasActiveScavenge = false;\n      let updated = false;\n      const newLocations = prev.map(loc => {\n        if (loc.lastScavenged && loc.scavengeTime > 0) {\n          if (now - loc.lastScavenged >= loc.scavengeTime && !updated) {\n            const loot = {\n              food: loc.resources.food || 0,\n              water: loc.resources.water || 0,\n              materials: loc.resources.materials || 0,\n              survivors: loc.resources.survivors || 0\n            };\n            finalizeScavenge(loc);\n            updated = true;\n            return loc;\n          }\n          hasActiveScavenge = true;\n          return loc;\n        }\n        return loc;\n      });\n      if (!hasActiveScavenge && !updated) {\n        const targetIndex = newLocations.findIndex(loc => loc.discovered && !loc.lastScavenged && loc.scavengeTime > 0 && Object.values(loc.resources).some(v => v && v > 0));\n        if (targetIndex !== -1) {\n          newLocations[targetIndex] = {\n            ...newLocations[targetIndex],\n            lastScavenged: now\n          };\n          updated = true;\n        }\n      }\n      return newLocations;\n    });\n  };\n  const addNotification = (message, type = 'info') => {\n    const id = Date.now().toString();\n    setNotifications(prev => [...prev, {\n      id,\n      message,\n      type,\n      timestamp: Date.now()\n    }]);\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== id));\n    }, 5000);\n  };\n  const finalizeScavenge = location => {\n    const loot = {\n      food: location.resources.food || 0,\n      water: location.resources.water || 0,\n      materials: location.resources.materials || 0,\n      survivors: location.resources.survivors || 0\n    };\n    const resourceMessages = Object.entries(loot).filter(([_, value]) => value > 0).map(([resource, value]) => `${value} ${resource}`).join(', ');\n    if (resourceMessages) {\n      addNotification(`Found resources: ${resourceMessages}`, 'success');\n    }\n    setResources(prevResources => ({\n      food: prevResources.food + loot.food,\n      water: prevResources.water + loot.water,\n      materials: prevResources.materials + loot.materials,\n      survivors: prevResources.survivors + loot.survivors\n    }));\n    setLocations(prev => prev.map(loc => loc.id === location.id ? {\n      ...loc,\n      lastScavenged: null,\n      resources: {},\n      wasScavenged: true\n    } : loc));\n  };\n  const handleMapClick = (e, location) => {\n    e.stopPropagation();\n    if (!location.discovered && location.id !== \"base\") return;\n    setSelectedLocation(location);\n    setRadialMenuPosition({\n      x: e.clientX,\n      y: e.clientY\n    });\n    setShowRadialMenu(true);\n  };\n  const scavengeLocation = location => {\n    if (location.lastScavenged || location.scavengeTime === 0) return;\n    setLocations(prev => prev.map(loc => loc.id === location.id ? {\n      ...loc,\n      lastScavenged: Date.now()\n    } : loc));\n    setShowRadialMenu(false);\n  };\n  const exploreNearby = () => {\n    if (!selectedLocation) return;\n    const cost = EXPLORATION_COST;\n    const canAfford = Object.entries(cost).every(([resource, amount]) => resources[resource] >= (amount || 0));\n    if (!canAfford) {\n      setShowAttackResult({\n        success: false,\n        locationName: \"Exploration\",\n        survivorsLost: 0\n      });\n      setShowRadialMenu(false);\n      return;\n    }\n    setResources(prev => {\n      const newResources = {\n        ...prev\n      };\n      Object.entries(cost).forEach(([resource, amount]) => {\n        newResources[resource] -= amount || 0;\n      });\n      return newResources;\n    });\n    const getGridCoords = id => {\n      const match = id.match(/cell-(\\d+)-(\\d+)/);\n      if (!match) return null;\n      return {\n        x: parseInt(match[1]),\n        y: parseInt(match[2])\n      };\n    };\n    const selectedCoords = getGridCoords(selectedLocation.id);\n    if (!selectedCoords) return;\n    setLocations(prev => prev.map(loc => {\n      const coords = getGridCoords(loc.id);\n      if (!coords || loc.discovered) return loc;\n      const dx = Math.abs(coords.x - selectedCoords.x);\n      const dy = Math.abs(coords.y - selectedCoords.y);\n      if (dx <= 1 && dy <= 1) {\n        return {\n          ...loc,\n          discovered: true\n        };\n      }\n      return loc;\n    }));\n    setShowRadialMenu(false);\n  };\n  const purchaseUpgrade = upgrade => {\n    if (upgrade.level >= upgrade.maxLevel) return;\n    const canAfford = Object.entries(upgrade.cost).every(([resource, cost]) => resources[resource] >= (cost || 0));\n    if (canAfford) {\n      setResources(prev => {\n        const newResources = {\n          ...prev\n        };\n        Object.entries(upgrade.cost).forEach(([resource, cost]) => {\n          newResources[resource] -= cost || 0;\n        });\n        return newResources;\n      });\n      setUpgrades(prev => prev.map(u => u.id === upgrade.id ? {\n        ...u,\n        level: u.level + 1,\n        cost: Object.fromEntries(Object.entries(u.cost).map(([r, c]) => [r, Math.floor((c || 0) * 1.5)]))\n      } : u));\n    }\n  };\n  const getScavengeProgress = location => {\n    if (!location.lastScavenged || location.scavengeTime === 0) return 0;\n    const elapsed = Date.now() - location.lastScavenged;\n    return Math.min(100, elapsed / location.scavengeTime * 100);\n  };\n  const attackLocation = location => {\n    const success = Math.random() < 0.7;\n    if (success) {\n      const materialsGained = 20 + Math.floor(Math.random() * 30);\n      setResources(prev => ({\n        ...prev,\n        materials: prev.materials + materialsGained\n      }));\n      setLocations(prev => prev.map(loc => loc.id === location.id ? {\n        ...loc,\n        owner: \"player\"\n      } : loc));\n      setShowAttackResult({\n        success: true,\n        locationName: location.name,\n        resourcesGained: {\n          materials: materialsGained\n        }\n      });\n      setShowAttackedAnimation(location.id);\n    } else {\n      const survivorsLost = 1;\n      setResources(prev => ({\n        ...prev,\n        survivors: Math.max(0, prev.survivors - survivorsLost)\n      }));\n      setShowAttackResult({\n        success: false,\n        locationName: location.name,\n        survivorsLost: survivorsLost\n      });\n    }\n    setShowRadialMenu(false);\n  };\n  const buyBackLocation = location => {\n    const cost = {\n      materials: 50\n    };\n    const canAfford = Object.entries(cost).every(([resource, amount]) => resources[resource] >= (amount || 0));\n    if (canAfford) {\n      setResources(prev => {\n        const newResources = {\n          ...prev\n        };\n        Object.entries(cost).forEach(([resource, amount]) => {\n          newResources[resource] -= amount || 0;\n        });\n        return newResources;\n      });\n      setLocations(prev => prev.map(loc => loc.id === location.id ? {\n        ...loc,\n        owner: \"player\"\n      } : loc));\n      setShowAttackedAnimation(location.id);\n      setShowRadialMenu(false);\n    } else {\n      console.log(\"Cannot afford to buy back this location.\");\n    }\n  };\n  const startNewGame = () => {\n    setResources(initialResources);\n    setUpgrades(initialUpgrades);\n    setLocations(generateInitialGrid());\n    setBuildings([]);\n    setIsGameOver(false);\n    setIsFirstTimeUser(false);\n    setShowDisaster(null);\n    setShowAttackResult(null);\n    setShowAIAttack(null);\n    setScavengeResult(null);\n    setWaitingForScavengePopup(false);\n    setShowAttackedAnimation(null);\n    setSelectedLocation(null);\n    setShowRadialMenu(false);\n    localStorage.removeItem(SAVE_KEY);\n  };\n  useEffect(() => {\n    if (showAttackedAnimation) {\n      const timer = setTimeout(() => {\n        setShowAttackedAnimation(null);\n      }, 1500);\n      return () => clearTimeout(timer);\n    }\n  }, [showAttackedAnimation]);\n  const GameOver = () => {\n    if (!isGameOver) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-gray-900 border border-red-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-4xl font-bold text-red-500 mb-6 drop-shadow-md\",\n          children: \"Game Over\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 695,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-200 text-lg mb-8\",\n          children: \"All your survivors have perished. The wasteland has claimed another settlement.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startNewGame,\n            className: \"w-full px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-green-600 to-green-800 hover:from-green-700 hover:to-green-900 text-white\",\n            children: \"Start New Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 7\n    }, this);\n  };\n  const NewGame = () => {\n    if (!isFirstTimeUser) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-4xl font-bold text-blue-500 mb-6 drop-shadow-md\",\n          children: \"Welcome to Wasteland Survivor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-200 text-lg mb-8\",\n          children: \"Lead your survivors through the post-apocalyptic wasteland. Gather resources, expand your territory, and survive against all odds.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 723,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startNewGame,\n            className: \"w-full px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white\",\n            children: \"Start New Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 7\n    }, this);\n  };\n  const Notifications = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed top-4 right-4 z-50 space-y-2\",\n    children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `px-4 py-2 rounded-lg shadow-lg transform transition-all duration-300 ${notification.type === 'success' ? 'bg-green-600' : notification.type === 'error' ? 'bg-red-600' : 'bg-blue-600'}`,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white font-medium\",\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 752,\n        columnNumber: 11\n      }, this)\n    }, notification.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 740,\n    columnNumber: 5\n  }, this);\n  useEffect(() => {\n    if (resources.survivors <= 0 && !isGameOver) {\n      setIsGameOver(true);\n    }\n  }, [resources.survivors, isGameOver]);\n  const triggerAIAttack = () => {\n    const playerOwnedLocations = locations.filter(loc => loc.owner === \"player\" && !loc.isBase);\n    if (playerOwnedLocations.length > 0) {\n      const targetLocation = playerOwnedLocations[Math.floor(Math.random() * playerOwnedLocations.length)];\n      const success = Math.random() < 0.75;\n      setShowAttackedAnimation(targetLocation.id);\n      if (success) {\n        setLocations(prev => prev.map(loc => loc.id === targetLocation.id ? {\n          ...loc,\n          owner: null\n        } : loc));\n        setResources(prev => ({\n          ...prev,\n          survivors: Math.max(0, prev.survivors - 1)\n        }));\n        setShowAIAttack({\n          locationId: targetLocation.id,\n          locationName: targetLocation.name,\n          success: true,\n          survivorsLost: 1\n        });\n      } else {\n        setShowAIAttack({\n          locationId: targetLocation.id,\n          locationName: targetLocation.name,\n          success: false\n        });\n      }\n    }\n  };\n  const HowToPlay = () => {\n    if (!showHowToPlay) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-2xl shadow-2xl text-center animate-fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-4xl font-bold text-blue-500 mb-6 drop-shadow-md font-display\",\n          children: \"How to Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-200 text-lg space-y-4 text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Welcome to Wasteland Survivor! Your goal is to lead your group of survivors through a post-apocalyptic world. Here's how to play:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 812,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Resources:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Gather Food, Water, Materials, and manage your Survivors. These are essential for survival and progress.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Map & Exploration:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Click on map locations to open a radial menu. You can Scavenge locations for resources, Attack rival locations to take them over, or Explore nearby to discover new areas. Exploring costs materials.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Buildings:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"From the Resources panel, you can drag and drop buildings like Houses onto available map squares. Houses provide shelter for your survivors; without enough housing, survivors will freeze and die!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 822,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Upgrades:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Invest in base upgrades to increase your resource production and survivor attraction.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Threats:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 827,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Beware of random Disasters and Rival Clan attacks. These events can deplete your resources and survivors, so be prepared!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-blue-300 mt-4\",\n            children: \"Game Over:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 830,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"The game ends if all your survivors are lost. You can always start a new game to try again!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 811,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowHowToPlay(false),\n          className: \"w-full mt-8 px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white\",\n          children: \"Got It!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 833,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 807,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 806,\n      columnNumber: 7\n    }, this);\n  };\n  const MapView = ({\n    buildings,\n    availableBuildings,\n    setBuildings,\n    setResources,\n    locations,\n    showAttackedAnimation\n  }) => {\n    const handleDragOver = e => {\n      e.preventDefault();\n    };\n    const handleDrop = (e, locationId) => {\n      e.preventDefault();\n      const buildingId = e.dataTransfer.getData(\"buildingId\");\n      const buildingBlueprint = availableBuildings.find(b => b.id === buildingId);\n      const targetLocation = locations.find(loc => loc.id === locationId);\n      if (!buildingBlueprint || !targetLocation) return;\n      const isLocationOccupied = buildings.some(b => b.locationId === locationId);\n      if (!targetLocation.discovered || targetLocation.owner !== \"player\" || targetLocation.isBase || isLocationOccupied) {\n        return;\n      }\n      const canAfford = Object.entries(buildingBlueprint.cost).every(([resource, cost]) => resources[resource] >= (cost || 0));\n      if (!canAfford) {\n        return;\n      }\n      setResources(prev => {\n        const newResources = {\n          ...prev\n        };\n        Object.entries(buildingBlueprint.cost).forEach(([resource, cost]) => {\n          newResources[resource] -= cost || 0;\n        });\n        return newResources;\n      });\n      const newBuilding = {\n        ...buildingBlueprint,\n        id: `${buildingBlueprint.type}-${Date.now()}`,\n        locationId: locationId\n      };\n      setBuildings(prev => [...prev, newBuilding]);\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative bg-gray-900 border border-gray-700 rounded-xl p-4 sm:p-8 shadow-2xl h-full flex flex-col overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-br before:from-gray-800 before:via-gray-900 before:to-black before:opacity-50 before:rounded-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"relative z-10 text-2xl sm:text-4xl font-black text-white mb-4 sm:mb-8 text-center drop-shadow-md\",\n        children: \"Wasteland Map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 902,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-10 grid bg-gray-950 border border-gray-700 rounded-lg aspect-square shadow-inner overflow-hidden\",\n        style: {\n          gridTemplateColumns: `repeat(${GRID_SIZE}, 1fr)`,\n          gridTemplateRows: `repeat(${GRID_SIZE}, 1fr)`\n        },\n        onClick: () => setShowRadialMenu(false),\n        children: locations.map(location => {\n          const isAnimatingTakeover = showAttackedAnimation === location.id;\n          const placedBuilding = buildings.find(b => b.locationId === location.id);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `relative flex items-center justify-center p-0.5 sm:p-1 transition-all duration-300 group ${location.discovered ? \"cursor-pointer\" : \"opacity-30\"} ${isAnimatingTakeover ? 'animate-pulse' : ''} ${location.id === showAttackedAnimation ? 'border-2 sm:border-4 border-red-500 animate-pulse-fast' : ''}`,\n            onClick: e => handleMapClick(e, location),\n            onDragOver: handleDragOver,\n            onDrop: e => handleDrop(e, location.id),\n            children: location.discovered ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative w-full h-full flex flex-col items-center justify-center text-center rounded-md overflow-hidden shadow-md group-hover:shadow-lg transition-shadow duration-300 border border-transparent group-hover:border-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-full h-full flex items-center justify-center text-2xl sm:text-4xl transform transition-all duration-300 group-hover:scale-105 ${location.isBase || location.owner === \"player\" ? \"bg-green-700\" : \"bg-blue-700\"}`,\n                children: placedBuilding ? placedBuilding.imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: placedBuilding.imageUrl,\n                  alt: placedBuilding.name,\n                  className: \"w-8 h-8 sm:w-10 sm:h-10 object-contain mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 932,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(BaseIcon, {\n                  className: \"w-8 h-8 sm:w-10 sm:h-10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 934,\n                  columnNumber: 27\n                }, this) : location.isBase ? /*#__PURE__*/_jsxDEV(BaseIcon, {\n                  className: \"w-8 h-8 sm:w-10 sm:h-10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 938,\n                  columnNumber: 27\n                }, this) : location.owner === \"player\" ? /*#__PURE__*/_jsxDEV(ResourcesIcon, {\n                  className: \"w-8 h-8 sm:w-10 sm:h-10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 940,\n                  columnNumber: 27\n                }, this) : location.resources && Object.values(location.resources).some(val => val && val > 0) ? /*#__PURE__*/_jsxDEV(ResourcesIcon, {\n                  className: \"w-8 h-8 sm:w-10 sm:h-10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 942,\n                  columnNumber: 27\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 927,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute bottom-0 left-0 right-0 bg-gray-800 bg-opacity-80 p-0.5 text-center backdrop-blur-sm group-hover:bg-opacity-90 transition-opacity\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-[8px] sm:text-xs font-medium text-gray-200 truncate\",\n                  children: location.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 947,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 946,\n                columnNumber: 21\n              }, this), location.lastScavenged && location.scavengeTime > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-0 left-0 right-0 h-0.5 sm:h-1 bg-gray-700 rounded-t\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-full bg-yellow-500 rounded-t transition-all duration-1000\",\n                  style: {\n                    width: `${getScavengeProgress(location)}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 953,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 952,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-full rounded-md bg-gray-800 flex items-center justify-center text-2xl sm:text-4xl opacity-50 animate-pulse border border-gray-700\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 961,\n              columnNumber: 19\n            }, this)\n          }, location.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 918,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 905,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 901,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-950 text-white font-outfit antialiased relative overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(Notifications, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 973,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-0 opacity-10 pointer-events-none\",\n      style: {\n        backgroundImage: `url('https://www.transparenttextures.com/patterns/dust-and-stones.png')`,\n        backgroundSize: 'cover',\n        backgroundAttachment: 'fixed'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 975,\n      columnNumber: 7\n    }, this), !isGameOver && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: isMobile ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-10 px-2 py-4 h-screen flex flex-col bg-gray-950 bg-opacity-95 pointer-events-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-black text-center mb-4 text-white drop-shadow-lg leading-tight tracking-tight\",\n          children: [\"Wasteland\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 17\n          }, this), \"Survivor\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 988,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex mb-4 bg-gray-800 rounded-lg p-1 shadow-inner border border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab(\"resources\"),\n            className: `flex-1 py-2 px-3 rounded-md text-base font-bold transition-all duration-300 ${activeTab === \"resources\" ? \"bg-gradient-to-r from-blue-600 to-blue-800 text-white\" : \"text-gray-400 hover:text-white hover:bg-gray-700\"}`,\n            children: \"Resources\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 994,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab(\"map\"),\n            className: `flex-1 py-2 px-3 rounded-md text-base font-bold transition-all duration-300 ${activeTab === \"map\" ? \"bg-gradient-to-r from-blue-600 to-blue-800 text-white\" : \"text-gray-400 hover:text-white hover:bg-gray-700\"}`,\n            children: \"Map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1003,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 993,\n          columnNumber: 15\n        }, this), activeTab === \"resources\" ? /*#__PURE__*/_jsxDEV(ResourcePanel, {\n          resources: resources,\n          upgrades: upgrades,\n          autoScavengeEnabled: autoScavengeEnabled,\n          purchaseUpgrade: purchaseUpgrade,\n          setAutoScavengeEnabled: setAutoScavengeEnabled,\n          availableBuildings: availableBuildings\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1014,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(MapView, {\n            buildings: buildings,\n            availableBuildings: availableBuildings,\n            setBuildings: setBuildings,\n            setResources: setResources,\n            locations: locations,\n            showAttackedAnimation: showAttackedAnimation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1024,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1023,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 987,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-10 flex h-screen p-8 gap-8 bg-gray-950 bg-opacity-95\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-1/2 flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-5xl font-black mb-8 text-white drop-shadow-lg leading-tight text-center tracking-tight\",\n            children: [\"Wasteland\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1040,\n              columnNumber: 19\n            }, this), \"Survivor\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1038,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ResourcePanel, {\n            resources: resources,\n            upgrades: upgrades,\n            autoScavengeEnabled: autoScavengeEnabled,\n            purchaseUpgrade: purchaseUpgrade,\n            setAutoScavengeEnabled: setAutoScavengeEnabled,\n            availableBuildings: availableBuildings\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1043,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1037,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-1/2 flex flex-col h-full\",\n          children: /*#__PURE__*/_jsxDEV(MapView, {\n            buildings: buildings,\n            availableBuildings: availableBuildings,\n            setBuildings: setBuildings,\n            setResources: setResources,\n            locations: locations,\n            showAttackedAnimation: showAttackedAnimation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1053,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1052,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1036,\n        columnNumber: 13\n      }, this)\n    }, void 0, false), !isGameOver && !isFirstTimeUser && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowHowToPlay(true),\n      className: \"fixed bottom-4 right-4 px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-purple-600 to-purple-800 hover:from-purple-700 hover:to-purple-900 text-white z-40\",\n      children: \"How to Play\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1068,\n      columnNumber: 9\n    }, this), (showRadialMenu || showDisaster || scavengeResult || showAttackResult || showAIAttack || isGameOver || isFirstTimeUser || showHowToPlay) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-50 bg-black bg-opacity-70 flex items-center justify-center pointer-events-auto\",\n      onClick: e => {\n        if (e.target === e.currentTarget) {\n          setShowRadialMenu(false);\n          setShowDisaster(null);\n          setScavengeResult(null);\n          setShowAttackResult(null);\n          setShowAIAttack(null);\n          setShowHowToPlay(false);\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(RadialMenu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1090,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DisasterPopup, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1091,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ScavengePopup, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1092,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AttackResultPopup, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1093,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AIAttackPopup, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1094,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GameOver, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1095,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(NewGame, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1096,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(HowToPlay, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1097,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1077,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 972,\n    columnNumber: 5\n  }, this);\n};\n_s(ApocalypticGame, \"AxGRrDJCaBA5H26Ie6D+E8oZsSk=\");\n_c = ApocalypticGame;\nexport default ApocalypticGame;\nvar _c;\n$RefreshReg$(_c, \"ApocalypticGame\");","map":{"version":3,"names":["React","useCallback","useEffect","useRef","useState","ResourcePanel","jsxDEV","_jsxDEV","Fragment","_Fragment","SAVE_KEY","AUTO_SAVE_INTERVAL","DISASTER_CHANCE","AI_ATTACK_CHANCE","HOUSE_CAPACITY","UNHOUSED_SURVIVOR_DEATH_RATE","EXPLORATION_COST","materials","initialResources","food","water","survivors","initialUpgrades","id","name","description","level","maxLevel","cost","effect","disasters","resources","probability","Math","floor","availableBuildings","production","type","imageUrl","ApocalypticGame","_s","setResources","upgrades","setUpgrades","activeTab","setActiveTab","isMobile","setIsMobile","showRadialMenu","setShowRadialMenu","radialMenuPosition","setRadialMenuPosition","x","y","selectedLocation","setSelectedLocation","showDisaster","setShowDisaster","autoScavengeEnabled","setAutoScavengeEnabled","buildings","setBuildings","scavengeResult","setScavengeResult","showAttackResult","setShowAttackResult","showAIAttack","setShowAIAttack","showAttackedAnimation","setShowAttackedAnimation","showHowToPlay","setShowHowToPlay","waitingForScavengePopup","setWaitingForScavengePopup","notifications","setNotifications","isFirstTimeUser","setIsFirstTimeUser","savedGame","localStorage","getItem","isGameOver","setIsGameOver","gameLoopRef","autoSaveRef","GRID_SIZE","locationNames","generateInitialGrid","locations","isBase","push","discovered","scavengeTime","random","lastScavenged","owner","setLocations","resourcesRef","upgradesRef","current","checkMobile","window","innerWidth","addEventListener","removeEventListener","gameState","JSON","parse","timePassed","Date","now","lastSave","minutesPassed","offlineResources","forEach","upgrade","e","console","error","saveGame","setItem","stringify","setInterval","clearInterval","floorResources","res","isEqualResources","a","b","prev","newResources","totalHousingCapacity","filter","length","unhousedSurvivors","lostSurvivors","min","ceil","max","floored","disaster","applyDisaster","triggerAIAttack","checkAutoScavenge","interval","finished","find","loc","finalizeScavenge","hasActiveScavenge","updated","newLocations","map","loot","targetIndex","findIndex","Object","values","some","v","addNotification","message","toString","timestamp","setTimeout","n","location","resourceMessages","entries","_","value","resource","join","prevResources","wasScavenged","handleMapClick","stopPropagation","clientX","clientY","scavengeLocation","exploreNearby","canAfford","every","amount","success","locationName","survivorsLost","getGridCoords","match","parseInt","selectedCoords","coords","dx","abs","dy","purchaseUpgrade","u","fromEntries","r","c","getScavengeProgress","elapsed","attackLocation","materialsGained","resourcesGained","buyBackLocation","log","startNewGame","removeItem","timer","clearTimeout","GameOver","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","NewGame","Notifications","notification","playerOwnedLocations","targetLocation","locationId","HowToPlay","MapView","handleDragOver","preventDefault","handleDrop","buildingId","dataTransfer","getData","buildingBlueprint","isLocationOccupied","newBuilding","style","gridTemplateColumns","gridTemplateRows","isAnimatingTakeover","placedBuilding","onDragOver","onDrop","src","alt","BaseIcon","ResourcesIcon","val","width","backgroundImage","backgroundSize","backgroundAttachment","target","currentTarget","RadialMenu","DisasterPopup","ScavengePopup","AttackResultPopup","AIAttackPopup","_c","$RefreshReg$"],"sources":["/Users/faybennett/outlierTasks/game-app/src/App.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { ResourcePanel } from './components/ResourcePanel';\nimport { AIAttack, BaseUpgrade, Building, Disaster, MapLocation, Notification, Resources } from './types';\n\n// Constants\nconst SAVE_KEY = \"apocalypse-idle-save\";\nconst AUTO_SAVE_INTERVAL = 10000;\nconst DISASTER_CHANCE = 0.002;\nconst AI_ATTACK_CHANCE = 0.02;\nconst HOUSE_CAPACITY = 2;\nconst UNHOUSED_SURVIVOR_DEATH_RATE = 0.01;\nconst EXPLORATION_COST = { materials: 20 };\n\n// Initial state\nconst initialResources: Resources = {\n  food: 100,\n  water: 100,\n  materials: 50,\n  survivors: 5,\n};\n\nconst initialUpgrades: BaseUpgrade[] = [\n  {\n    id: 'food_production',\n    name: 'Food Production',\n    description: 'Increases food production rate',\n    level: 1,\n    maxLevel: 5,\n    cost: { materials: 50 },\n    effect: (level) => ({ food: level * 0.2 }),\n  },\n  {\n    id: 'water_production',\n    name: 'Water Production',\n    description: 'Increases water production rate',\n    level: 1,\n    maxLevel: 5,\n    cost: { materials: 50 },\n    effect: (level) => ({ water: level * 0.2 }),\n  },\n  {\n    id: 'material_production',\n    name: 'Material Production',\n    description: 'Increases material production rate',\n    level: 1,\n    maxLevel: 5,\n    cost: { materials: 50 },\n    effect: (level) => ({ materials: level * 0.2 }),\n  },\n];\n\nconst disasters: Disaster[] = [\n  {\n    id: 'food_shortage',\n    name: 'Food Shortage',\n    description: 'A severe food shortage has occurred!',\n    effect: (resources) => ({ food: -resources.food * 0.2 }),\n    probability: 0.1,\n  },\n  {\n    id: 'water_contamination',\n    name: 'Water Contamination',\n    description: 'The water supply has been contaminated!',\n    effect: (resources) => ({ water: -resources.water * 0.2 }),\n    probability: 0.1,\n  },\n  {\n    id: 'survivor_loss',\n    name: 'Survivor Loss',\n    description: 'Some survivors have perished!',\n    effect: (resources) => ({ survivors: -Math.floor(resources.survivors * 0.1) }),\n    probability: 0.05,\n  },\n];\n\nconst availableBuildings: Building[] = [\n  {\n    id: 'house',\n    name: 'House',\n    description: 'Provides shelter for survivors',\n    cost: { materials: 30, food: 10 },\n    production: { survivors: 0.1 },\n    type: 'house',\n    level: 0,\n    imageUrl: 'https://img.icons8.com/ios-filled/50/ffffff/home.png',\n  },\n  {\n    id: 'water_collector',\n    name: 'Water Collector',\n    description: 'Collects water from the atmosphere',\n    cost: { materials: 40 },\n    production: { water: 0.3 },\n    type: 'water_collector',\n    level: 0,\n  },\n];\n\nconst ApocalypticGame: React.FC = () => {\n  // State\n  const [resources, setResources] = useState<Resources>(initialResources);\n  const [upgrades, setUpgrades] = useState<BaseUpgrade[]>(initialUpgrades);\n  const [activeTab, setActiveTab] = useState<\"resources\" | \"map\">(\"resources\");\n  const [isMobile, setIsMobile] = useState(false);\n  const [showRadialMenu, setShowRadialMenu] = useState(false);\n  const [radialMenuPosition, setRadialMenuPosition] = useState({ x: 0, y: 0 });\n  const [selectedLocation, setSelectedLocation] = useState<MapLocation | null>(null);\n  const [showDisaster, setShowDisaster] = useState<Disaster | null>(null);\n  const [autoScavengeEnabled, setAutoScavengeEnabled] = useState(true);\n  const [buildings, setBuildings] = useState<Building[]>([]);\n  const [scavengeResult, setScavengeResult] = useState<Partial<Resources> | null>(null);\n  const [showAttackResult, setShowAttackResult] = useState<{ success: boolean; locationName: string; resourcesGained?: Partial<Resources>; survivorsLost?: number } | null>(null);\n  const [showAIAttack, setShowAIAttack] = useState<AIAttack | null>(null);\n  const [showAttackedAnimation, setShowAttackedAnimation] = useState<string | null>(null);\n  const [showHowToPlay, setShowHowToPlay] = useState(false);\n  const [waitingForScavengePopup, setWaitingForScavengePopup] = useState(false);\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [isFirstTimeUser, setIsFirstTimeUser] = useState(() => {\n    const savedGame = localStorage.getItem(SAVE_KEY);\n    return !savedGame;\n  });\n  const [isGameOver, setIsGameOver] = useState(false);\n\n  const gameLoopRef = useRef<ReturnType<typeof setInterval> | null>(null);\n  const autoSaveRef = useRef<ReturnType<typeof setInterval> | null>(null);\n\n  const GRID_SIZE = 5;\n\n  const locationNames = [\n    \"Dustfield\",\n    \"Ashrock\",\n    \"Ironpit\",\n    \"Deadwell\",\n    \"Cragpoint\",\n    \"Burnpass\",\n    \"Mudspire\",\n    \"Wretchend\",\n    \"Redhollow\",\n    \"Saltmoor\",\n    \"Scraptown\",\n    \"Charcliff\",\n    \"Dryreach\",\n    \"Ragbank\",\n    \"Blightden\",\n    \"Boneplain\",\n    \"Rustbarrow\",\n    \"Smokefall\",\n    \"Shivglen\",\n    \"Flintgorge\",\n    \"Gravefen\",\n    \"Scorchbay\",\n    \"Fogscar\",\n    \"Ruinstep\",\n    \"Crimsonlot\",\n  ];\n\n  const generateInitialGrid = (): MapLocation[] => {\n    const locations: MapLocation[] = [];\n\n    for (let y = 0; y < GRID_SIZE; y++) {\n      for (let x = 0; x < GRID_SIZE; x++) {\n        const isBase =\n          x === Math.floor(GRID_SIZE / 2) && y === Math.floor(GRID_SIZE / 2);\n\n        locations.push({\n          id: `cell-${x}-${y}`,\n          name: isBase\n            ? \"Your Base\"\n            : locationNames[y * GRID_SIZE + x] || `Sector-${x}-${y}`,\n          isBase: isBase,\n          x,\n          y,\n          discovered: isBase,\n          scavengeTime: isBase ? 0 : 5000 + Math.floor(Math.random() * 5000),\n          lastScavenged: null,\n          resources: isBase\n            ? {}\n            : Math.random() < 0.8\n            ? {\n                food: Math.floor(Math.random() * 50) + 10,\n                water: Math.floor(Math.random() * 30) + 5,\n                materials:\n                  Math.random() < 0.7 ? Math.floor(Math.random() * 60) + 10 : 0,\n                survivors: Math.random() < 0.3 ? 1 : 0,\n              }\n            : {},\n          owner: isBase ? \"player\" : null,\n        });\n      }\n    }\n\n    return locations;\n  };\n\n  const [locations, setLocations] = useState<MapLocation[]>(\n    generateInitialGrid(),\n  );\n\n  const resourcesRef = useRef(resources);\n  const upgradesRef = useRef(upgrades);\n\n  useEffect(() => {\n    resourcesRef.current = resources;\n  }, [resources]);\n  useEffect(() => {\n    upgradesRef.current = upgrades;\n  }, [upgrades]);\n\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    checkMobile();\n    window.addEventListener(\"resize\", checkMobile);\n    return () => window.removeEventListener(\"resize\", checkMobile);\n  }, []);\n\n  useEffect(() => {\n    const savedGame = localStorage.getItem(SAVE_KEY);\n    if (savedGame) {\n      try {\n        const gameState: GameState = JSON.parse(savedGame);\n        const timePassed = Date.now() - gameState.lastSave;\n\n        const minutesPassed = timePassed / 60000;\n        const offlineResources = { ...gameState.resources };\n\n        gameState.upgrades.forEach((upgrade) => {\n          if (upgrade.id === \"farm\" && upgrade.level > 0) {\n            offlineResources.food += Math.floor(\n              minutesPassed * 5 * upgrade.level * 0.5,\n            );\n          }\n          if (upgrade.id === \"well\" && upgrade.level > 0) {\n            offlineResources.water += Math.floor(\n              minutesPassed * 3 * upgrade.level * 0.5,\n            );\n          }\n          if (upgrade.id === \"shelter\" && upgrade.level > 0) {\n            offlineResources.survivors += Math.floor(\n              minutesPassed * (1 / 60) * upgrade.level * 0.5,\n            );\n          }\n        });\n\n        setResources(offlineResources);\n        setUpgrades(gameState.upgrades);\n        setLocations(gameState.locations);\n        setAutoScavengeEnabled(gameState.autoScavengeEnabled);\n      } catch (e) {\n        console.error(\"Failed to load save:\", e);\n      }\n    }\n  }, []);\n\n  const saveGame = useCallback(() => {\n    const gameState: GameState = {\n      resources,\n      upgrades,\n      locations,\n      lastSave: Date.now(),\n      autoScavengeEnabled,\n    };\n    localStorage.setItem(SAVE_KEY, JSON.stringify(gameState));\n  }, [resources, upgrades, locations, autoScavengeEnabled]);\n\n  useEffect(() => {\n    autoSaveRef.current = setInterval(saveGame, AUTO_SAVE_INTERVAL);\n    return () => {\n      if (autoSaveRef.current) clearInterval(autoSaveRef.current);\n    };\n  }, [saveGame]);\n\n  function floorResources(res: Resources): Resources {\n    return {\n      food: Math.floor(res.food),\n      water: Math.floor(res.water),\n      materials: Math.floor(res.materials),\n      survivors: Math.floor(res.survivors),\n    };\n  }\n\n  function isEqualResources(a: Resources, b: Resources): boolean {\n    return (\n      a.food === b.food &&\n      a.water === b.water &&\n      a.materials === b.materials &&\n      a.survivors === b.survivors\n    );\n  }\n\n  useEffect(() => {\n    gameLoopRef.current = setInterval(() => {\n      setResources((prev) => {\n        const newResources = { ...prev };\n\n        upgrades.forEach((upgrade) => {\n          if (upgrade.id === \"farm\" && upgrade.level > 0) {\n            newResources.food += (5 * upgrade.level) / 60;\n          }\n          if (upgrade.id === \"well\" && upgrade.level > 0) {\n            newResources.water += (3 * upgrade.level) / 60;\n          }\n          if (upgrade.id === \"shelter\" && upgrade.level > 0) {\n            newResources.survivors += (1 * upgrade.level) / 3600;\n          }\n        });\n\n        const totalHousingCapacity = buildings.filter(b => b.type === \"house\").length * HOUSE_CAPACITY;\n        const unhousedSurvivors = newResources.survivors - totalHousingCapacity;\n        \n        if (unhousedSurvivors > 0 && Math.random() < UNHOUSED_SURVIVOR_DEATH_RATE * unhousedSurvivors) {\n          const lostSurvivors = Math.min(Math.ceil(unhousedSurvivors / 5), newResources.survivors);\n          newResources.survivors = Math.max(0, newResources.survivors - lostSurvivors);\n          setShowDisaster({\n            id: \"exposure\",\n            name: \"Exposure!\",\n            description: `Some of your unhoused survivors froze to death! Lost ${lostSurvivors} survivor(s).`,\n            effect: { survivors: -lostSurvivors },\n          });\n        }\n\n        newResources.food = Math.max(\n          0,\n          newResources.food - prev.survivors * 0.01,\n        );\n        newResources.water = Math.max(\n          0,\n          newResources.water - prev.survivors * 0.02,\n        );\n\n        const floored = floorResources(newResources);\n        if (!isEqualResources(floored, floorResources(prev))) {\n          return floored;\n        }\n        return prev;\n      });\n\n      if (Math.random() < DISASTER_CHANCE) {\n        const disaster =\n          disasters[Math.floor(Math.random() * disasters.length)];\n        setShowDisaster(disaster);\n        applyDisaster(disaster);\n      }\n\n      if (Math.random() < AI_ATTACK_CHANCE) {\n        triggerAIAttack();\n      }\n\n      if (autoScavengeEnabled) {\n        checkAutoScavenge();\n      }\n    }, 2000);\n\n    return () => {\n      if (gameLoopRef.current) clearInterval(gameLoopRef.current);\n    };\n  }, [upgrades, autoScavengeEnabled]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const now = Date.now();\n      if (waitingForScavengePopup || scavengeResult) return;\n\n      const finished = locations.find(\n        (loc) =>\n          loc.lastScavenged &&\n          loc.scavengeTime > 0 &&\n          now - loc.lastScavenged >= loc.scavengeTime,\n      );\n\n      if (finished) finalizeScavenge(finished);\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [locations, waitingForScavengePopup, scavengeResult]);\n\n  const applyDisaster = (disaster: Disaster) => {\n    setResources((prev) => ({\n      food: Math.max(0, prev.food + (disaster.effect.food || 0)),\n      water: Math.max(0, prev.water + (disaster.effect.water || 0)),\n      materials: Math.max(0, prev.materials + (disaster.effect.materials || 0)),\n      survivors: Math.max(1, prev.survivors + (disaster.effect.survivors || 0)),\n    }));\n  };\n\n  const checkAutoScavenge = () => {\n    if (waitingForScavengePopup) return;\n\n    const now = Date.now();\n\n    setLocations((prev) => {\n      let hasActiveScavenge = false;\n      let updated = false;\n\n      const newLocations = prev.map((loc) => {\n        if (loc.lastScavenged && loc.scavengeTime > 0) {\n          if (now - loc.lastScavenged >= loc.scavengeTime && !updated) {\n            const loot = {\n              food: loc.resources.food || 0,\n              water: loc.resources.water || 0,\n              materials: loc.resources.materials || 0,\n              survivors: loc.resources.survivors || 0,\n            };\n\n            finalizeScavenge(loc);\n            updated = true;\n            return loc;\n          }\n\n          hasActiveScavenge = true;\n          return loc;\n        }\n\n        return loc;\n      });\n\n      if (!hasActiveScavenge && !updated) {\n        const targetIndex = newLocations.findIndex(\n          (loc) =>\n            loc.discovered &&\n            !loc.lastScavenged &&\n            loc.scavengeTime > 0 &&\n            Object.values(loc.resources).some((v) => v && v > 0),\n        );\n\n        if (targetIndex !== -1) {\n          newLocations[targetIndex] = {\n            ...newLocations[targetIndex],\n            lastScavenged: now,\n          };\n          updated = true;\n        }\n      }\n\n      return newLocations;\n    });\n  };\n\n  const addNotification = (message: string, type: 'success' | 'error' | 'info' = 'info') => {\n    const id = Date.now().toString();\n    setNotifications(prev => [...prev, { id, message, type, timestamp: Date.now() }]);\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== id));\n    }, 5000);\n  };\n\n  const finalizeScavenge = (location: MapLocation) => {\n    const loot = {\n      food: location.resources.food || 0,\n      water: location.resources.water || 0,\n      materials: location.resources.materials || 0,\n      survivors: location.resources.survivors || 0,\n    };\n\n    const resourceMessages = Object.entries(loot)\n      .filter(([_, value]) => value > 0)\n      .map(([resource, value]) => `${value} ${resource}`)\n      .join(', ');\n    \n    if (resourceMessages) {\n      addNotification(`Found resources: ${resourceMessages}`, 'success');\n    }\n\n    setResources((prevResources) => ({\n      food: prevResources.food + loot.food,\n      water: prevResources.water + loot.water,\n      materials: prevResources.materials + loot.materials,\n      survivors: prevResources.survivors + loot.survivors,\n    }));\n\n    setLocations((prev) =>\n      prev.map((loc) =>\n        loc.id === location.id\n          ? { ...loc, lastScavenged: null, resources: {}, wasScavenged: true }\n          : loc,\n      ),\n    );\n  };\n\n  const handleMapClick = (\n    e: React.MouseEvent<HTMLDivElement>,\n    location: MapLocation,\n  ) => {\n    e.stopPropagation();\n    if (!location.discovered && location.id !== \"base\") return;\n\n    setSelectedLocation(location);\n    setRadialMenuPosition({ x: e.clientX, y: e.clientY });\n    setShowRadialMenu(true);\n  };\n\n  const scavengeLocation = (location: MapLocation) => {\n    if (location.lastScavenged || location.scavengeTime === 0) return;\n\n    setLocations((prev) =>\n      prev.map((loc) =>\n        loc.id === location.id ? { ...loc, lastScavenged: Date.now() } : loc,\n      ),\n    );\n    setShowRadialMenu(false);\n  };\n\n  const exploreNearby = () => {\n    if (!selectedLocation) return;\n\n    const cost = EXPLORATION_COST;\n    const canAfford = Object.entries(cost).every(\n      ([resource, amount]) => resources[resource as keyof Resources] >= (amount || 0)\n    );\n\n    if (!canAfford) {\n      setShowAttackResult({\n        success: false,\n        locationName: \"Exploration\",\n        survivorsLost: 0,\n      });\n      setShowRadialMenu(false);\n      return;\n    }\n\n    setResources(prev => {\n      const newResources = { ...prev };\n      Object.entries(cost).forEach(([resource, amount]) => {\n        newResources[resource as keyof Resources] -= amount || 0;\n      });\n      return newResources;\n    });\n\n    const getGridCoords = (id: string) => {\n      const match = id.match(/cell-(\\d+)-(\\d+)/);\n      if (!match) return null;\n      return { x: parseInt(match[1]), y: parseInt(match[2]) };\n    };\n\n    const selectedCoords = getGridCoords(selectedLocation.id);\n    if (!selectedCoords) return;\n\n    setLocations((prev) =>\n      prev.map((loc) => {\n        const coords = getGridCoords(loc.id);\n        if (!coords || loc.discovered) return loc;\n\n        const dx = Math.abs(coords.x - selectedCoords.x);\n        const dy = Math.abs(coords.y - selectedCoords.y);\n\n        if (dx <= 1 && dy <= 1) {\n          return { ...loc, discovered: true };\n        }\n\n        return loc;\n      }),\n    );\n\n    setShowRadialMenu(false);\n  };\n\n  const purchaseUpgrade = (upgrade: BaseUpgrade) => {\n    if (upgrade.level >= upgrade.maxLevel) return;\n\n    const canAfford = Object.entries(upgrade.cost).every(\n      ([resource, cost]) =>\n        resources[resource as keyof Resources] >= (cost || 0),\n    );\n\n    if (canAfford) {\n      setResources((prev) => {\n        const newResources = { ...prev };\n        Object.entries(upgrade.cost).forEach(([resource, cost]) => {\n          newResources[resource as keyof Resources] -= cost || 0;\n        });\n        return newResources;\n      });\n\n      setUpgrades((prev) =>\n        prev.map((u) =>\n          u.id === upgrade.id\n            ? {\n                ...u,\n                level: u.level + 1,\n                cost: Object.fromEntries(\n                  Object.entries(u.cost).map(([r, c]) => [\n                    r,\n                    Math.floor((c || 0) * 1.5),\n                  ]),\n                ),\n              }\n            : u,\n        ),\n      );\n    }\n  };\n\n  const getScavengeProgress = (location: MapLocation) => {\n    if (!location.lastScavenged || location.scavengeTime === 0) return 0;\n    const elapsed = Date.now() - location.lastScavenged;\n    return Math.min(100, (elapsed / location.scavengeTime) * 100);\n  };\n\n  const attackLocation = (location: MapLocation) => {\n    const success = Math.random() < 0.7;\n\n    if (success) {\n      const materialsGained = 20 + Math.floor(Math.random() * 30);\n      setResources((prev) => ({\n        ...prev,\n        materials: prev.materials + materialsGained,\n      }));\n      setLocations((prev) =>\n        prev.map((loc) =>\n          loc.id === location.id ? { ...loc, owner: \"player\" } : loc,\n        ),\n      );\n      setShowAttackResult({\n        success: true,\n        locationName: location.name,\n        resourcesGained: { materials: materialsGained },\n      });\n      setShowAttackedAnimation(location.id);\n    } else {\n      const survivorsLost = 1;\n      setResources((prev) => ({\n        ...prev,\n        survivors: Math.max(0, prev.survivors - survivorsLost),\n      }));\n      setShowAttackResult({\n        success: false,\n        locationName: location.name,\n        survivorsLost: survivorsLost,\n      });\n    }\n    setShowRadialMenu(false);\n  };\n\n  const buyBackLocation = (location: MapLocation) => {\n    const cost = { materials: 50 };\n\n    const canAfford = Object.entries(cost).every(\n      ([resource, amount]) => resources[resource as keyof Resources] >= (amount || 0)\n    );\n\n    if (canAfford) {\n      setResources(prev => {\n        const newResources = { ...prev };\n        Object.entries(cost).forEach(([resource, amount]) => {\n          newResources[resource as keyof Resources] -= amount || 0;\n        });\n        return newResources;\n      });\n\n      setLocations(prev =>\n        prev.map(loc =>\n          loc.id === location.id ? { ...loc, owner: \"player\" } : loc\n        )\n      );\n      setShowAttackedAnimation(location.id);\n      setShowRadialMenu(false);\n    } else {\n      console.log(\"Cannot afford to buy back this location.\");\n    }\n  };\n\n  const startNewGame = () => {\n    setResources(initialResources);\n    setUpgrades(initialUpgrades);\n    setLocations(generateInitialGrid());\n    setBuildings([]);\n    setIsGameOver(false);\n    setIsFirstTimeUser(false);\n    setShowDisaster(null);\n    setShowAttackResult(null);\n    setShowAIAttack(null);\n    setScavengeResult(null);\n    setWaitingForScavengePopup(false);\n    setShowAttackedAnimation(null);\n    setSelectedLocation(null);\n    setShowRadialMenu(false);\n    localStorage.removeItem(SAVE_KEY);\n  };\n\n  useEffect(() => {\n    if (showAttackedAnimation) {\n      const timer = setTimeout(() => {\n        setShowAttackedAnimation(null);\n      }, 1500);\n      return () => clearTimeout(timer);\n    }\n  }, [showAttackedAnimation]);\n\n  const GameOver = () => {\n    if (!isGameOver) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\">\n        <div className=\"relative bg-gray-900 border border-red-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\">\n          <h3 className=\"text-4xl font-bold text-red-500 mb-6 drop-shadow-md\">\n            Game Over\n          </h3>\n          <p className=\"text-gray-200 text-lg mb-8\">\n            All your survivors have perished. The wasteland has claimed another settlement.\n          </p>\n          <div className=\"space-y-4\">\n            <button\n              onClick={startNewGame}\n              className=\"w-full px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-green-600 to-green-800 hover:from-green-700 hover:to-green-900 text-white\"\n            >\n              Start New Game\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const NewGame = () => {\n    if (!isFirstTimeUser) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\">\n        <div className=\"relative bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-md shadow-2xl text-center animate-fade-in\">\n          <h3 className=\"text-4xl font-bold text-blue-500 mb-6 drop-shadow-md\">\n            Welcome to Wasteland Survivor\n          </h3>\n          <p className=\"text-gray-200 text-lg mb-8\">\n            Lead your survivors through the post-apocalyptic wasteland. Gather resources, expand your territory, and survive against all odds.\n          </p>\n          <div className=\"space-y-4\">\n            <button\n              onClick={startNewGame}\n              className=\"w-full px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white\"\n            >\n              Start New Game\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const Notifications = () => (\n    <div className=\"fixed top-4 right-4 z-50 space-y-2\">\n      {notifications.map((notification) => (\n        <div\n          key={notification.id}\n          className={`px-4 py-2 rounded-lg shadow-lg transform transition-all duration-300 ${\n            notification.type === 'success'\n              ? 'bg-green-600'\n              : notification.type === 'error'\n              ? 'bg-red-600'\n              : 'bg-blue-600'\n          }`}\n        >\n          <p className=\"text-white font-medium\">{notification.message}</p>\n        </div>\n      ))}\n    </div>\n  );\n\n  useEffect(() => {\n    if (resources.survivors <= 0 && !isGameOver) {\n      setIsGameOver(true);\n    }\n  }, [resources.survivors, isGameOver]);\n\n  const triggerAIAttack = () => {\n    const playerOwnedLocations = locations.filter(\n      (loc) => loc.owner === \"player\" && !loc.isBase\n    );\n\n    if (playerOwnedLocations.length > 0) {\n      const targetLocation =\n        playerOwnedLocations[Math.floor(Math.random() * playerOwnedLocations.length)];\n      const success = Math.random() < 0.75;\n\n      setShowAttackedAnimation(targetLocation.id);\n\n      if (success) {\n        setLocations((prev) =>\n          prev.map((loc) =>\n            loc.id === targetLocation.id ? { ...loc, owner: null } : loc\n          )\n        );\n        setResources((prev) => ({\n          ...prev,\n          survivors: Math.max(0, prev.survivors - 1),\n        }));\n        setShowAIAttack({\n          locationId: targetLocation.id,\n          locationName: targetLocation.name,\n          success: true,\n          survivorsLost: 1,\n        });\n      } else {\n        setShowAIAttack({\n          locationId: targetLocation.id,\n          locationName: targetLocation.name,\n          success: false,\n        });\n      }\n    }\n  };\n\n  const HowToPlay = () => {\n    if (!showHowToPlay) return null;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 pointer-events-auto\">\n        <div className=\"relative bg-gray-900 border border-blue-700 rounded-xl p-8 max-w-2xl shadow-2xl text-center animate-fade-in\">\n          <h3 className=\"text-4xl font-bold text-blue-500 mb-6 drop-shadow-md font-display\">\n            How to Play\n          </h3>\n          <div className=\"text-gray-200 text-lg space-y-4 text-left\">\n            <p>\n              Welcome to Wasteland Survivor! Your goal is to lead your group of survivors through a post-apocalyptic world. Here's how to play:\n            </p>\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Resources:</h4>\n            <p>Gather Food, Water, Materials, and manage your Survivors. These are essential for survival and progress.</p>\n\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Map & Exploration:</h4>\n            <p>Click on map locations to open a radial menu. You can Scavenge locations for resources, Attack rival locations to take them over, or Explore nearby to discover new areas. Exploring costs materials.</p>\n\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Buildings:</h4>\n            <p>From the Resources panel, you can drag and drop buildings like Houses onto available map squares. Houses provide shelter for your survivors; without enough housing, survivors will freeze and die!</p>\n\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Upgrades:</h4>\n            <p>Invest in base upgrades to increase your resource production and survivor attraction.</p>\n\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Threats:</h4>\n            <p>Beware of random Disasters and Rival Clan attacks. These events can deplete your resources and survivors, so be prepared!</p>\n\n            <h4 className=\"text-xl font-semibold text-blue-300 mt-4\">Game Over:</h4>\n            <p>The game ends if all your survivors are lost. You can always start a new game to try again!</p>\n          </div>\n          <button\n            onClick={() => setShowHowToPlay(false)}\n            className=\"w-full mt-8 px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white\"\n          >\n            Got It!\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  const MapView = ({\n    buildings,\n    availableBuildings,\n    setBuildings,\n    setResources,\n    locations,\n    showAttackedAnimation,\n  }: {\n    buildings: Building[];\n    availableBuildings: Building[];\n    setBuildings: React.Dispatch<React.SetStateAction<Building[]>>;\n    setResources: React.Dispatch<React.SetStateAction<Resources>>;\n    locations: MapLocation[];\n    showAttackedAnimation: string | null;\n  }) => {\n    const handleDragOver = (e: React.DragEvent) => {\n      e.preventDefault();\n    };\n\n    const handleDrop = (e: React.DragEvent, locationId: string) => {\n      e.preventDefault();\n      const buildingId = e.dataTransfer.getData(\"buildingId\");\n      const buildingBlueprint = availableBuildings.find((b) => b.id === buildingId);\n      const targetLocation = locations.find((loc) => loc.id === locationId);\n\n      if (!buildingBlueprint || !targetLocation) return;\n\n      const isLocationOccupied = buildings.some(b => b.locationId === locationId);\n      if (!targetLocation.discovered || targetLocation.owner !== \"player\" || targetLocation.isBase || isLocationOccupied) {\n        return;\n      }\n\n      const canAfford = Object.entries(buildingBlueprint.cost).every(\n        ([resource, cost]) => resources[resource as keyof Resources] >= (cost || 0)\n      );\n\n      if (!canAfford) {\n        return;\n      }\n\n      setResources(prev => {\n        const newResources = { ...prev };\n        Object.entries(buildingBlueprint.cost).forEach(([resource, cost]) => {\n          newResources[resource as keyof Resources] -= cost || 0;\n        });\n        return newResources;\n      });\n\n      const newBuilding: Building = {\n        ...buildingBlueprint,\n        id: `${buildingBlueprint.type}-${Date.now()}`,\n        locationId: locationId,\n      };\n      setBuildings(prev => [...prev, newBuilding]);\n    };\n\n    return (\n      <div className=\"relative bg-gray-900 border border-gray-700 rounded-xl p-4 sm:p-8 shadow-2xl h-full flex flex-col overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-br before:from-gray-800 before:via-gray-900 before:to-black before:opacity-50 before:rounded-xl\">\n        <h2 className=\"relative z-10 text-2xl sm:text-4xl font-black text-white mb-4 sm:mb-8 text-center drop-shadow-md\">\n          Wasteland Map\n        </h2>\n        <div\n          className=\"relative z-10 grid bg-gray-950 border border-gray-700 rounded-lg aspect-square shadow-inner overflow-hidden\"\n          style={{\n            gridTemplateColumns: `repeat(${GRID_SIZE}, 1fr)`,\n            gridTemplateRows: `repeat(${GRID_SIZE}, 1fr)`,\n          }}\n          onClick={() => setShowRadialMenu(false)}\n        >\n          {locations.map((location) => {\n            const isAnimatingTakeover = showAttackedAnimation === location.id;\n            const placedBuilding = buildings.find(b => b.locationId === location.id);\n\n            return (\n              <div\n                key={location.id}\n                className={`relative flex items-center justify-center p-0.5 sm:p-1 transition-all duration-300 group ${location.discovered ? \"cursor-pointer\" : \"opacity-30\"} ${isAnimatingTakeover ? 'animate-pulse' : ''} ${location.id === showAttackedAnimation ? 'border-2 sm:border-4 border-red-500 animate-pulse-fast' : ''}`}\n                onClick={(e) => handleMapClick(e, location)}\n                onDragOver={handleDragOver}\n                onDrop={(e) => handleDrop(e, location.id)}\n              >\n                {location.discovered ? (\n                  <div className=\"relative w-full h-full flex flex-col items-center justify-center text-center rounded-md overflow-hidden shadow-md group-hover:shadow-lg transition-shadow duration-300 border border-transparent group-hover:border-blue-500\">\n                    <div\n                      className={`w-full h-full flex items-center justify-center text-2xl sm:text-4xl transform transition-all duration-300 group-hover:scale-105 ${location.isBase || location.owner === \"player\" ? \"bg-green-700\" : \"bg-blue-700\"}`}\n                    >\n                      {placedBuilding ? (\n                        placedBuilding.imageUrl ? (\n                          <img src={placedBuilding.imageUrl} alt={placedBuilding.name} className=\"w-8 h-8 sm:w-10 sm:h-10 object-contain mx-auto\" />\n                        ) : (\n                          <BaseIcon className=\"w-8 h-8 sm:w-10 sm:h-10\" />\n                        )\n                      ) : (\n                        location.isBase ? (\n                          <BaseIcon className=\"w-8 h-8 sm:w-10 sm:h-10\" />\n                        ) : location.owner === \"player\" ? (\n                          <ResourcesIcon className=\"w-8 h-8 sm:w-10 sm:h-10\" />\n                        ) : location.resources && Object.values(location.resources).some(val => val && val > 0) ? (\n                          <ResourcesIcon className=\"w-8 h-8 sm:w-10 sm:h-10\" />\n                        ) : null\n                      )}\n                    </div>\n                    <div className=\"absolute bottom-0 left-0 right-0 bg-gray-800 bg-opacity-80 p-0.5 text-center backdrop-blur-sm group-hover:bg-opacity-90 transition-opacity\">\n                      <p className=\"text-[8px] sm:text-xs font-medium text-gray-200 truncate\">\n                        {location.name}\n                      </p>\n                    </div>\n                    {location.lastScavenged && location.scavengeTime > 0 && (\n                      <div className=\"absolute top-0 left-0 right-0 h-0.5 sm:h-1 bg-gray-700 rounded-t\">\n                        <div\n                          className=\"h-full bg-yellow-500 rounded-t transition-all duration-1000\"\n                          style={{ width: `${getScavengeProgress(location)}%` }}\n                        />\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"w-full h-full rounded-md bg-gray-800 flex items-center justify-center text-2xl sm:text-4xl opacity-50 animate-pulse border border-gray-700\"></div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-950 text-white font-outfit antialiased relative overflow-hidden\">\n      <Notifications />\n      \n      <div \n        className=\"fixed inset-0 z-0 opacity-10 pointer-events-none\" \n        style={{ \n          backgroundImage: `url('https://www.transparenttextures.com/patterns/dust-and-stones.png')`, \n          backgroundSize: 'cover',\n          backgroundAttachment: 'fixed'\n        }}\n      ></div>\n      \n      {!isGameOver && (\n        <>\n          {isMobile ? (\n            <div className=\"relative z-10 px-2 py-4 h-screen flex flex-col bg-gray-950 bg-opacity-95 pointer-events-auto\">\n              <h1 className=\"text-3xl font-black text-center mb-4 text-white drop-shadow-lg leading-tight tracking-tight\">\n                Wasteland\n                <br />\n                Survivor\n              </h1>\n              <div className=\"flex mb-4 bg-gray-800 rounded-lg p-1 shadow-inner border border-gray-700\">\n                <button\n                  onClick={() => setActiveTab(\"resources\")}\n                  className={`flex-1 py-2 px-3 rounded-md text-base font-bold transition-all duration-300 ${\n                    activeTab === \"resources\"\n                      ? \"bg-gradient-to-r from-blue-600 to-blue-800 text-white\" : \"text-gray-400 hover:text-white hover:bg-gray-700\"\n                  }`}\n                >\n                  Resources\n                </button>\n                <button\n                  onClick={() => setActiveTab(\"map\")}\n                  className={`flex-1 py-2 px-3 rounded-md text-base font-bold transition-all duration-300 ${\n                    activeTab === \"map\"\n                      ? \"bg-gradient-to-r from-blue-600 to-blue-800 text-white\" : \"text-gray-400 hover:text-white hover:bg-gray-700\"\n                  }`}\n                >\n                  Map\n                </button>\n              </div>\n              {activeTab === \"resources\" ? (\n                <ResourcePanel\n                  resources={resources}\n                  upgrades={upgrades}\n                  autoScavengeEnabled={autoScavengeEnabled}\n                  purchaseUpgrade={purchaseUpgrade}\n                  setAutoScavengeEnabled={setAutoScavengeEnabled}\n                  availableBuildings={availableBuildings}\n                />\n              ) : (\n                <div className=\"flex-1 overflow-hidden\">\n                  <MapView\n                    buildings={buildings}\n                    availableBuildings={availableBuildings}\n                    setBuildings={setBuildings}\n                    setResources={setResources}\n                    locations={locations}\n                    showAttackedAnimation={showAttackedAnimation}\n                  />\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"relative z-10 flex h-screen p-8 gap-8 bg-gray-950 bg-opacity-95\">\n              <div className=\"w-1/2 flex flex-col\">\n                <h1 className=\"text-5xl font-black mb-8 text-white drop-shadow-lg leading-tight text-center tracking-tight\">\n                  Wasteland\n                  <br />\n                  Survivor\n                </h1>\n                <ResourcePanel\n                  resources={resources}\n                  upgrades={upgrades}\n                  autoScavengeEnabled={autoScavengeEnabled}\n                  purchaseUpgrade={purchaseUpgrade}\n                  setAutoScavengeEnabled={setAutoScavengeEnabled}\n                  availableBuildings={availableBuildings}\n                />\n              </div>\n              <div className=\"w-1/2 flex flex-col h-full\">\n                <MapView\n                  buildings={buildings}\n                  availableBuildings={availableBuildings}\n                  setBuildings={setBuildings}\n                  setResources={setResources}\n                  locations={locations}\n                  showAttackedAnimation={showAttackedAnimation}\n                />\n              </div>\n            </div>\n          )}\n        </>\n      )}\n\n      {!isGameOver && !isFirstTimeUser && (\n        <button\n          onClick={() => setShowHowToPlay(true)}\n          className=\"fixed bottom-4 right-4 px-6 py-3 rounded-lg text-lg font-bold uppercase tracking-wider transition-all duration-300 transform hover:scale-105 shadow-md bg-gradient-to-r from-purple-600 to-purple-800 hover:from-purple-700 hover:to-purple-900 text-white z-40\"\n        >\n          How to Play\n        </button>\n      )}\n\n      {(showRadialMenu || showDisaster || scavengeResult || showAttackResult || showAIAttack || isGameOver || isFirstTimeUser || showHowToPlay) && (\n        <div \n          className=\"fixed inset-0 z-50 bg-black bg-opacity-70 flex items-center justify-center pointer-events-auto\" \n          onClick={(e) => { \n            if (e.target === e.currentTarget) {\n              setShowRadialMenu(false);\n              setShowDisaster(null);\n              setScavengeResult(null);\n              setShowAttackResult(null);\n              setShowAIAttack(null);\n              setShowHowToPlay(false);\n            }\n          }}\n        >\n          <RadialMenu />\n          <DisasterPopup />\n          <ScavengePopup />\n          <AttackResultPopup />\n          <AIAttackPopup />\n          <GameOver />\n          <NewGame />\n          <HowToPlay />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ApocalypticGame;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}